/*
THIS IS A GENERATED/BUNDLED FILE BY ROLLUP
if you want to view the source visit the plugins github repository
*/

'use strict';

var obsidian = require('obsidian');

/******************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/* global Reflect, Promise, SuppressedError, Symbol, Iterator */


function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

typeof SuppressedError === "function" ? SuppressedError : function (error, suppressed, message) {
    var e = new Error(message);
    return e.name = "SuppressedError", e.error = error, e.suppressed = suppressed, e;
};

const DEFAULT_SETTINGS = {
    bookTemplatePath: '',
    bookOutputFolder: '',
    blogTemplatePath: '',
    blogOutputFolder: '',
    anthropicApiKey: '',
    llmModel: 'claude-3-haiku-20240307'
};
class BookCardCreator extends obsidian.Plugin {
    onload() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.loadSettings();
            // スタイルシートを読み込む
            this.loadStyles();
            // コマンドパレットにコマンドを追加
            this.addCommand({
                id: 'create-book-card',
                name: 'Create Book Card from Amazon URL',
                callback: () => {
                    new BookUrlModal(this.app, this).open();
                }
            });
            // 技術ブログからカードを作成するコマンドを追加
            this.addCommand({
                id: 'create-tech-blog-card',
                name: 'Create Tech Blog Card from URL',
                callback: () => {
                    new TechBlogUrlModal(this.app, this).open();
                }
            });
            // 設定タブを追加
            this.addSettingTab(new BookCardCreatorSettingTab(this.app, this));
        });
    }
    // プラグインのスタイルシートを読み込む
    loadStyles() {
        // Obsidianのプラグインでスタイルシートを読み込む正しい方法
        // プラグインのマニフェストで指定されたstyles.cssが自動的に読み込まれる
        // このメソッドは将来の拡張のために残しておく
    }
    onunload() {
    }
    loadSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            this.settings = Object.assign({}, DEFAULT_SETTINGS, yield this.loadData());
        });
    }
    saveSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.saveData(this.settings);
        });
    }
    createNoteFromTemplate(bookInfo) {
        return __awaiter(this, void 0, void 0, function* () {
            let templatePath = '';
            let outputFolderPath = '';
            // BookInfoかBlogInfoかを判定してテンプレートと出力フォルダを選択
            if ('amazonUrl' in bookInfo) {
                // BookInfoの場合
                templatePath = this.settings.bookTemplatePath;
                outputFolderPath = this.settings.bookOutputFolder;
            }
            else if ('blogUrl' in bookInfo) {
                // BlogInfoの場合
                templatePath = this.settings.blogTemplatePath;
                outputFolderPath = this.settings.blogOutputFolder;
            }
            // テンプレートファイルが存在するか確認
            const templateFile = this.app.vault.getAbstractFileByPath(templatePath);
            if (!(templateFile instanceof obsidian.TFile)) {
                new obsidian.Notice('Template file not found. Please check your settings.');
                return;
            }
            // 出力フォルダが存在するか確認
            const outputFolder = this.app.vault.getAbstractFileByPath(outputFolderPath);
            if (!(outputFolder instanceof obsidian.TFolder)) {
                new obsidian.Notice('Output folder not found. Please check your settings.');
                return;
            }
            // テンプレートの内容を取得
            const templateContent = yield this.app.vault.read(templateFile);
            // テンプレートの内容を置換
            let newContent = templateContent;
            // BookInfoかBlogInfoかを判定して適切な置換を行う
            if ('amazonUrl' in bookInfo) {
                // BookInfoの場合
                const book = bookInfo;
                newContent = newContent.replace(/{{book-creator:title}}/g, book.title);
                newContent = newContent.replace(/{{book-creator:author}}/g, book.author);
                newContent = newContent.replace(/{{book-creator:genre}}/g, book.genre);
                newContent = newContent.replace(/{{book-creator:summary}}/g, book.summary);
                // Amazon URLをMarkdownリンクとして挿入
                newContent = newContent.replace(/{{book-creator:amazon-link}}/g, this.createMarkdownLink(book.title, book.amazonUrl));
            }
            else if ('blogUrl' in bookInfo) {
                // BlogInfoの場合
                const blog = bookInfo;
                newContent = newContent.replace(/{{blog-creator:title}}/g, blog.title);
                newContent = newContent.replace(/{{blog-creator:summary}}/g, blog.summary);
                // Blog URLをMarkdownリンクとして挿入
                newContent = newContent.replace(/{{blog-creator:blog-link}}/g, this.createMarkdownLink(blog.title, blog.blogUrl));
            }
            // ファイル名（タイトルから不正な文字を除去）
            const fileName = `${'title' in bookInfo ? bookInfo.title.replace(/[\\/:*?"<>|]/g, '') : 'blog'}.md`;
            const filePath = `${outputFolderPath}/${fileName}`;
            // 新しいノートを作成
            try {
                yield this.app.vault.create(filePath, newContent);
                new obsidian.Notice(`Card created: ${fileName}`);
                // 作成したノートを開く
                const newFile = this.app.vault.getAbstractFileByPath(filePath);
                if (newFile instanceof obsidian.TFile) {
                    this.app.workspace.getLeaf().openFile(newFile);
                }
            }
            catch (error) {
                new obsidian.Notice(`Error creating note: ${error}`);
            }
        });
    }
    fetchBlogInfo(blogUrl) {
        return __awaiter(this, void 0, void 0, function* () {
            // URLのバリデーション
            if (!blogUrl.includes('http')) {
                throw new Error('Invalid Blog URL');
            }
            try {
                // CORSの問題を回避するためにプロキシサービスを使用
                const proxyUrls = [
                    `https://api.allorigins.win/get?url=${encodeURIComponent(blogUrl)}`,
                    `https://corsproxy.io/?${encodeURIComponent(blogUrl)}`,
                    `https://cors-anywhere.herokuapp.com/${blogUrl}`
                ];
                let htmlContent = '';
                let proxyError = '';
                // プロキシを順番に試す
                for (const proxyUrl of proxyUrls) {
                    try {
                        const response = yield fetch(proxyUrl);
                        if (!response.ok) {
                            proxyError = `Failed to fetch data: ${response.status}`;
                            continue;
                        }
                        // レスポンスタイプを確認
                        const contentType = response.headers.get('content-type');
                        if (contentType && contentType.includes('application/json')) {
                            // JSONレスポンスの場合
                            const responseData = yield response.json();
                            if (responseData.contents) {
                                // allorigins形式のレスポンス
                                htmlContent = responseData.contents;
                            }
                        }
                        else {
                            // テキスト/HTMLレスポンスの場合
                            htmlContent = yield response.text();
                        }
                        // 成功したらループを抜ける
                        if (htmlContent)
                            break;
                    }
                    catch (err) {
                        proxyError = `Proxy error: ${err.message}`;
                        continue;
                    }
                }
                if (!htmlContent) {
                    throw new Error(`Failed to fetch blog data: ${proxyError}`);
                }
                // HTMLからメタデータを抽出
                const titleMatch = htmlContent.match(/<title[^>]*>([^<]+)<\/title>/) ||
                    htmlContent.match(/<h1[^>]*>([^<]+)<\/h1>/);
                // ページコンテンツを取得
                const bodyContent = this.extractMainContent(htmlContent);
                const cleanedContent = this.cleanHtml(bodyContent);
                // Anthropic APIで要約を生成
                let summary = 'No summary available.';
                if (cleanedContent && this.settings.anthropicApiKey) {
                    try {
                        summary = yield this.generateSummaryWithAnthropic(cleanedContent);
                    }
                    catch (error) {
                        console.error('Error generating summary:', error);
                        summary = 'Failed to generate summary: ' + error.message;
                    }
                }
                // データを整形して返す
                return {
                    title: titleMatch ? titleMatch[1].trim() : 'Unknown Title',
                    summary: summary,
                    blogUrl: blogUrl
                };
            }
            catch (error) {
                console.error('Error fetching blog information:', error);
                throw new Error('Failed to fetch blog information. Please check the URL and try again.');
            }
        });
    }
    // メインコンテンツを抽出するヘルパーメソッド
    extractMainContent(html) {
        // 一般的なコンテンツコンテナを探す
        const contentMatches = [
            html.match(/<article[^>]*>([\s\S]*?)<\/article>/),
            html.match(/<main[^>]*>([\s\S]*?)<\/main>/),
            html.match(/<div[^>]*?class="[^"]*?content[^"]*?"[^>]*>([\s\S]*?)<\/div>/i),
            html.match(/<div[^>]*?class="[^"]*?entry[^"]*?"[^>]*>([\s\S]*?)<\/div>/i),
            html.match(/<div[^>]*?class="[^"]*?post[^"]*?"[^>]*>([\s\S]*?)<\/div>/i)
        ];
        for (const match of contentMatches) {
            if (match && match[1]) {
                return match[1];
            }
        }
        // メインコンテンツが見つからない場合はbodyタグの中身を返す
        const bodyMatch = html.match(/<body[^>]*>([\s\S]*?)<\/body>/);
        return bodyMatch ? bodyMatch[1] : html;
    }
    // Anthropic APIで要約を生成するメソッド
    generateSummaryWithAnthropic(content) {
        return __awaiter(this, void 0, void 0, function* () {
            var _a;
            const apiKey = this.settings.anthropicApiKey;
            if (!apiKey) {
                throw new Error('Anthropic API key is not set');
            }
            const maxContentLength = 10000; // 長すぎるコンテンツは切り詰める
            const truncatedContent = content.length > maxContentLength ?
                content.substring(0, maxContentLength) + '...' : content;
            const prompt = `
Here's the content of a technical blog post. Please summarize it in a concise way, highlighting the main points, key technical concepts, and any important conclusions:

${truncatedContent}

Summary:`;
            try {
                const response = yield fetch('https://api.anthropic.com/v1/messages', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'x-api-key': apiKey,
                        'anthropic-version': '2023-06-01'
                    },
                    body: JSON.stringify({
                        model: this.settings.llmModel,
                        max_tokens: 1000,
                        messages: [
                            { role: 'user', content: prompt }
                        ]
                    })
                });
                if (!response.ok) {
                    const errorData = yield response.json();
                    throw new Error(`Anthropic API Error: ${((_a = errorData.error) === null || _a === void 0 ? void 0 : _a.message) || response.statusText}`);
                }
                const data = yield response.json();
                return data.content[0].text || 'No summary available.';
            }
            catch (error) {
                console.error('Error calling Anthropic API:', error);
                throw new Error('Failed to generate summary with Anthropic API');
            }
        });
    }
    fetchBookInfo(amazonUrl) {
        return __awaiter(this, void 0, void 0, function* () {
            // URLのバリデーション
            if (!amazonUrl.includes('amazon')) {
                throw new Error('Invalid Amazon URL');
            }
            try {
                // CORSの問題を回避するためにプロキシサービスを使用
                // 複数のプロキシオプションを用意
                const proxyUrls = [
                    `https://api.allorigins.win/get?url=${encodeURIComponent(amazonUrl)}`,
                    `https://corsproxy.io/?${encodeURIComponent(amazonUrl)}`,
                    `https://cors-anywhere.herokuapp.com/${amazonUrl}`
                ];
                let htmlContent = '';
                let proxyError = '';
                // プロキシを順番に試す
                for (const proxyUrl of proxyUrls) {
                    try {
                        const response = yield fetch(proxyUrl);
                        if (!response.ok) {
                            proxyError = `Failed to fetch data: ${response.status}`;
                            continue;
                        }
                        // レスポンスタイプを確認
                        const contentType = response.headers.get('content-type');
                        if (contentType && contentType.includes('application/json')) {
                            // JSONレスポンスの場合
                            const responseData = yield response.json();
                            if (responseData.contents) {
                                // allorigins形式のレスポンス
                                htmlContent = responseData.contents;
                            }
                        }
                        else {
                            // テキスト/HTMLレスポンスの場合
                            htmlContent = yield response.text();
                        }
                        // 成功したらループを抜ける
                        if (htmlContent)
                            break;
                    }
                    catch (err) {
                        proxyError = `Proxy error: ${err.message}`;
                        continue;
                    }
                }
                if (!htmlContent) {
                    throw new Error(`Failed to fetch Amazon data: ${proxyError}`);
                }
                // HTMLからメタデータを抽出
                const titleMatch = htmlContent.match(/<span id="productTitle"[^>]*>([^<]+)<\/span>/);
                const authorMatch = htmlContent.match(/<a class="[^"]*" href="[^"]*\/e\/[^"]*">([^<]+)<\/a>/) ||
                    htmlContent.match(/id="bylineInfo"[^>]*>[\s\S]*?<span[^>]*>([^<]+)<\/span>/);
                // 商品説明を取得 (複数のパターンに対応、より詳細なコンテンツを取得)
                const summaryMatch = htmlContent.match(/<div id="bookDescription_feature_div"[^>]*>([\s\S]*?)<\/div>/) ||
                    htmlContent.match(/<div id="productDescription"[^>]*>([\s\S]*?)<\/div>/) ||
                    htmlContent.match(/<div class="a-expander-content[^"]*" id="[^"]*Description[^"]*"[^>]*>([\s\S]*?)<\/div>/) ||
                    htmlContent.match(/<noscript><div>([\s\S]*?)<\/div><\/noscript>/);
                // ジャンル情報を取得（カテゴリ階層から詳細なジャンルを抽出）
                let genre = 'Fiction'; // デフォルトのジャンル
                // パンくずリストからカテゴリ階層を取得
                const breadcrumbsMatch = htmlContent.match(/id="wayfinding-breadcrumbs_feature_div"[^>]*>([\s\S]*?)<\/div>/);
                if (breadcrumbsMatch) {
                    const breadcrumbs = breadcrumbsMatch[1];
                    // すべてのリンクテキストを抽出
                    const categoryLinks = breadcrumbs.match(/<a[^>]*>([^<]+)<\/a>/g);
                    if (categoryLinks && categoryLinks.length > 0) {
                        // 最も具体的なカテゴリを取得するために、最後から2番目のカテゴリを使用
                        // (最後はよく「Kindle Store」になるため)
                        const targetIndex = Math.max(0, categoryLinks.length - 2);
                        const targetCategory = categoryLinks[targetIndex].match(/<a[^>]*>([^<]+)<\/a>/);
                        if (targetCategory) {
                            genre = targetCategory[1].trim();
                        }
                    }
                }
                // 他の方法でもジャンル情報を探す
                if (genre === 'Fiction' || genre === 'Kindle Store') {
                    const genreMatch = htmlContent.match(/<a class="a-link-normal a-color-tertiary"[^>]*>([^<]+)<\/a>/);
                    if (genreMatch && genreMatch[1].trim() !== 'Kindle Store') {
                        genre = genreMatch[1].trim();
                    }
                }
                // データを整形して返す
                return {
                    title: titleMatch ? titleMatch[1].trim() : 'Unknown Title',
                    author: authorMatch ? authorMatch[1].trim() : 'Unknown Author',
                    genre: genre,
                    summary: summaryMatch ? this.cleanHtml(summaryMatch[1]).trim() : 'No summary available.',
                    amazonUrl: amazonUrl // Amazon URLを保存
                };
            }
            catch (error) {
                console.error('Error fetching book information:', error);
                throw new Error('Failed to fetch book information. Please check the URL and try again.');
            }
        });
    }
    // HTMLタグを除去するヘルパーメソッド（改行を維持）
    cleanHtml(html) {
        // <br>や</p>タグを改行に置換してから他のHTMLタグを削除
        return html
            .replace(/<br[^>]*>/gi, '\n')
            .replace(/<\/p>/gi, '\n\n')
            .replace(/<[^>]*>/g, ' ')
            .replace(/\s{2,}/g, ' ')
            .trim();
    }
    // Obsidianのタグやリンクに干渉する文字を除去し、Markdownリンクを作成
    createMarkdownLink(title, url) {
        // Obsidianのタグやリンクに使われる特殊文字を除去
        const cleanTitle = title.replace(/[#\[\]|]/g, '').trim();
        // Markdown形式のリンクを作成
        return `[${cleanTitle}](${url})`;
    }
}
class BookUrlModal extends obsidian.Modal {
    constructor(app, plugin) {
        super(app);
        this.url = '';
        this.plugin = plugin;
    }
    onOpen() {
        const { contentEl } = this;
        contentEl.createEl('h2', { text: 'Enter Amazon Book URL' });
        // URL入力フィールド
        const urlInputContainer = contentEl.createDiv();
        const urlInput = urlInputContainer.createEl('input', {
            attr: {
                type: 'text',
                placeholder: 'https://www.amazon.com/...'
            },
            cls: 'book-url-input'
        });
        urlInput.style.width = '100%';
        urlInput.style.marginBottom = '1em';
        urlInput.addEventListener('input', (e) => {
            this.url = e.target.value;
        });
        // ローディングインジケータ（最初は非表示）
        this.loadingContainer = contentEl.createDiv({ cls: 'loading-container' });
        this.loadingContainer.style.display = 'none';
        this.loadingContainer.createDiv({ cls: 'loading-spinner' });
        this.loadingContainer.createDiv({ cls: 'loading-text', text: 'Fetching book information...' });
        // ボタンコンテナ
        this.buttonContainer = contentEl.createDiv();
        this.buttonContainer.style.display = 'flex';
        this.buttonContainer.style.justifyContent = 'flex-end';
        this.buttonContainer.style.gap = '0.5em';
        // キャンセルボタン
        const cancelButton = this.buttonContainer.createEl('button', { text: 'Cancel' });
        cancelButton.addEventListener('click', () => this.close());
        // 作成ボタン
        const createButton = this.buttonContainer.createEl('button', { text: 'Create', cls: 'mod-cta' });
        createButton.addEventListener('click', () => __awaiter(this, void 0, void 0, function* () {
            if (!this.url) {
                new obsidian.Notice('Please enter a valid Amazon URL');
                return;
            }
            try {
                // ローディングインジケータを表示し、ボタンを非表示
                this.loadingContainer.style.display = 'flex';
                this.buttonContainer.style.display = 'none';
                // Notice表示も併用
                new obsidian.Notice('Fetching book information...');
                const bookInfo = yield this.plugin.fetchBookInfo(this.url);
                // 生成中のメッセージに更新
                const loadingText = this.loadingContainer.querySelector('.loading-text');
                if (loadingText) {
                    loadingText.innerText = 'Creating book card...';
                }
                yield this.plugin.createNoteFromTemplate(bookInfo);
                this.close();
            }
            catch (error) {
                // エラー時はローディングを非表示にしてボタンを再表示
                this.loadingContainer.style.display = 'none';
                this.buttonContainer.style.display = 'flex';
                new obsidian.Notice(`Error: ${error}`);
            }
        }));
        // 入力フィールドにフォーカス
        urlInput.focus();
    }
    onClose() {
        const { contentEl } = this;
        contentEl.empty();
    }
}
class BookCardCreatorSettingTab extends obsidian.PluginSettingTab {
    constructor(app, plugin) {
        super(app, plugin);
        this.plugin = plugin;
    }
    display() {
        const { containerEl } = this;
        containerEl.empty();
        // プラグイン固有のクラスを追加
        containerEl.addClass('book-card-creator');
        containerEl.createEl('h2', { text: 'Book Card Creator Settings' });
        // セクションを明確に分けて表示
        this.renderAmazonBookSection(containerEl);
        this.renderTechBlogSection(containerEl);
        this.renderApiSection(containerEl);
        this.renderTemplateVariables(containerEl);
    }
    // Amazon Book Cardsの設定セクション
    renderAmazonBookSection(containerEl) {
        const amazonSection = containerEl.createDiv('settings-section');
        amazonSection.createEl('h3', { text: 'Amazon Book Cards Settings' });
        // 書籍用テンプレートファイルの設定
        new obsidian.Setting(amazonSection)
            .setName('Book template file')
            .setDesc('Select the template file for Amazon book cards')
            .addText(text => text
            .setPlaceholder('Example: templates/book-template.md')
            .setValue(this.plugin.settings.bookTemplatePath)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.bookTemplatePath = value;
            yield this.plugin.saveSettings();
        })))
            .addButton(button => button
            .setButtonText('Browse')
            .onClick(() => __awaiter(this, void 0, void 0, function* () {
            // 既存のファイルを選択するための新しいモーダルを作成
            new FileSelectorModal(this.app, (file) => {
                this.plugin.settings.bookTemplatePath = file.path;
                this.plugin.saveSettings();
                this.display(); // 設定画面を更新
            }).open();
        })));
        // 書籍用出力フォルダの設定
        new obsidian.Setting(amazonSection)
            .setName('Book output folder')
            .setDesc('Select the folder where Amazon book cards will be created')
            .addText(text => text
            .setPlaceholder('Example: Books')
            .setValue(this.plugin.settings.bookOutputFolder)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.bookOutputFolder = value;
            yield this.plugin.saveSettings();
        })))
            .addButton(button => button
            .setButtonText('Browse')
            .onClick(() => __awaiter(this, void 0, void 0, function* () {
            // フォルダを選択するための新しいモーダルを作成
            new FolderSelectorModal(this.app, (folder) => {
                this.plugin.settings.bookOutputFolder = folder.path;
                this.plugin.saveSettings();
                this.display(); // 設定画面を更新
            }).open();
        })));
    }
    // Tech Blog Cardsの設定セクション
    renderTechBlogSection(containerEl) {
        const blogSection = containerEl.createDiv('settings-section');
        blogSection.createEl('h3', { text: 'Tech Blog Cards Settings' });
        // ブログ用テンプレートファイルの設定
        new obsidian.Setting(blogSection)
            .setName('Blog template file')
            .setDesc('Select the template file for tech blog cards')
            .addText(text => text
            .setPlaceholder('Example: templates/blog-template.md')
            .setValue(this.plugin.settings.blogTemplatePath)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.blogTemplatePath = value;
            yield this.plugin.saveSettings();
        })))
            .addButton(button => button
            .setButtonText('Browse')
            .onClick(() => __awaiter(this, void 0, void 0, function* () {
            // 既存のファイルを選択するための新しいモーダルを作成
            new FileSelectorModal(this.app, (file) => {
                this.plugin.settings.blogTemplatePath = file.path;
                this.plugin.saveSettings();
                this.display(); // 設定画面を更新
            }).open();
        })));
        // ブログ用出力フォルダの設定
        new obsidian.Setting(blogSection)
            .setName('Blog output folder')
            .setDesc('Select the folder where tech blog cards will be created')
            .addText(text => text
            .setPlaceholder('Example: TechBlogs')
            .setValue(this.plugin.settings.blogOutputFolder)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.blogOutputFolder = value;
            yield this.plugin.saveSettings();
        })))
            .addButton(button => button
            .setButtonText('Browse')
            .onClick(() => __awaiter(this, void 0, void 0, function* () {
            // フォルダを選択するための新しいモーダルを作成
            new FolderSelectorModal(this.app, (folder) => {
                this.plugin.settings.blogOutputFolder = folder.path;
                this.plugin.saveSettings();
                this.display(); // 設定画面を更新
            }).open();
        })));
    }
    // API設定セクション
    renderApiSection(containerEl) {
        const apiSection = containerEl.createDiv('settings-section');
        apiSection.createEl('h3', { text: 'API Settings for Blog Summarization' });
        // Anthropic API Keyの設定
        new obsidian.Setting(apiSection)
            .setName('Anthropic API Key')
            .setDesc('Enter your Anthropic API key for tech blog summary generation')
            .addText(text => text
            .setPlaceholder('sk-ant-...')
            .setValue(this.plugin.settings.anthropicApiKey)
            .setDisabled(false)
            .inputEl.type = 'password')
            .addExtraButton(btn => btn
            .setIcon('reset')
            .setTooltip('Save API Key')
            .onClick(() => __awaiter(this, void 0, void 0, function* () {
            const inputEl = apiSection.querySelector('input[type="password"]');
            this.plugin.settings.anthropicApiKey = inputEl.value;
            yield this.plugin.saveSettings();
            new obsidian.Notice('API Key saved');
        })));
        // LLMモデルの選択
        new obsidian.Setting(apiSection)
            .setName('Claude Model')
            .setDesc('Select which Claude model to use for blog summarization')
            .addDropdown(dropdown => dropdown
            .addOption('claude-3-haiku-20240307', 'Claude 3 Haiku (Fast)')
            .addOption('claude-3-sonnet-20240229', 'Claude 3 Sonnet (Balanced)')
            .addOption('claude-3-opus-20240229', 'Claude 3 Opus (Powerful)')
            .setValue(this.plugin.settings.llmModel)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.llmModel = value;
            yield this.plugin.saveSettings();
        })));
    }
    // テンプレート変数の説明セクション
    renderTemplateVariables(containerEl) {
        const variablesSection = containerEl.createDiv('settings-section');
        variablesSection.createEl('h3', { text: 'Template Variables' });
        const templateInfo = variablesSection.createEl('div');
        templateInfo.innerHTML = `
			<p>You can use the following variables in your templates:</p>
			<h4>For Amazon Book templates:</h4>
			<ul>
				<li><code>{{book-creator:title}}</code> - Book title</li>
				<li><code>{{book-creator:author}}</code> - Book author</li>
				<li><code>{{book-creator:genre}}</code> - Book genre</li>
				<li><code>{{book-creator:summary}}</code> - Book summary</li>
				<li><code>{{book-creator:amazon-link}}</code> - Markdown link to Amazon page</li>
			</ul>
			<h4>For Tech Blog templates:</h4>
			<ul>
				<li><code>{{blog-creator:title}}</code> - Blog title</li>
				<li><code>{{blog-creator:summary}}</code> - Blog summary</li>
				<li><code>{{blog-creator:blog-link}}</code> - Markdown link to blog page</li>
			</ul>
		`;
    }
}
// ファイル選択用のモーダル
class FileSelectorModal extends obsidian.Modal {
    constructor(app, onSelect) {
        super(app);
        this.onSelect = onSelect;
    }
    onOpen() {
        const { contentEl } = this;
        contentEl.createEl('h2', { text: 'Select Template File' });
        const fileList = contentEl.createDiv();
        fileList.style.maxHeight = '400px';
        fileList.style.overflow = 'auto';
        // マークダウンファイルの一覧を表示
        this.app.vault.getMarkdownFiles().forEach(file => {
            const fileItem = fileList.createEl('div', { cls: 'file-item' });
            fileItem.style.padding = '5px';
            fileItem.style.cursor = 'pointer';
            fileItem.style.borderBottom = '1px solid var(--background-modifier-border)';
            fileItem.innerHTML = `<span>${file.path}</span>`;
            fileItem.addEventListener('click', () => {
                this.onSelect(file);
                this.close();
            });
            fileItem.addEventListener('mouseenter', () => {
                fileItem.style.backgroundColor = 'var(--background-modifier-hover)';
            });
            fileItem.addEventListener('mouseleave', () => {
                fileItem.style.backgroundColor = '';
            });
        });
    }
    onClose() {
        const { contentEl } = this;
        contentEl.empty();
    }
}
// フォルダ選択用のモーダル
class TechBlogUrlModal extends obsidian.Modal {
    constructor(app, plugin) {
        super(app);
        this.url = '';
        this.plugin = plugin;
    }
    onOpen() {
        const { contentEl } = this;
        contentEl.createEl('h2', { text: 'Enter Tech Blog URL' });
        // URL入力フィールド
        const urlInputContainer = contentEl.createDiv();
        const urlInput = urlInputContainer.createEl('input', {
            attr: {
                type: 'text',
                placeholder: 'https://blog.example.com/...'
            },
            cls: 'blog-url-input'
        });
        urlInput.style.width = '100%';
        urlInput.style.marginBottom = '1em';
        urlInput.addEventListener('input', (e) => {
            this.url = e.target.value;
        });
        // APIキーの警告（設定されていない場合）
        if (!this.plugin.settings.anthropicApiKey) {
            const warningDiv = contentEl.createDiv();
            warningDiv.style.color = 'var(--text-error)';
            warningDiv.style.marginBottom = '1em';
            warningDiv.createEl('p', { text: 'Warning: Anthropic API Key is not set. LLM summary will not be available.' });
        }
        // 選択されているモデルの情報を表示
        const modelInfo = contentEl.createDiv();
        modelInfo.style.marginBottom = '1em';
        let modelName = 'Unknown';
        if (this.plugin.settings.llmModel === 'claude-3-haiku-20240307') {
            modelName = 'Claude 3 Haiku (Fast)';
        }
        else if (this.plugin.settings.llmModel === 'claude-3-sonnet-20240229') {
            modelName = 'Claude 3 Sonnet (Balanced)';
        }
        else if (this.plugin.settings.llmModel === 'claude-3-opus-20240229') {
            modelName = 'Claude 3 Opus (Powerful)';
        }
        modelInfo.createEl('p', { text: `Selected model: ${modelName}` });
        // ローディングインジケータ（最初は非表示）
        this.loadingContainer = contentEl.createDiv({ cls: 'loading-container' });
        this.loadingContainer.style.display = 'none';
        this.loadingContainer.createDiv({ cls: 'loading-spinner' });
        this.loadingContainer.createDiv({ cls: 'loading-text', text: 'Fetching blog information...' });
        // ボタンコンテナ
        this.buttonContainer = contentEl.createDiv();
        this.buttonContainer.style.display = 'flex';
        this.buttonContainer.style.justifyContent = 'flex-end';
        this.buttonContainer.style.gap = '0.5em';
        // キャンセルボタン
        const cancelButton = this.buttonContainer.createEl('button', { text: 'Cancel' });
        cancelButton.addEventListener('click', () => this.close());
        // 作成ボタン
        const createButton = this.buttonContainer.createEl('button', { text: 'Create', cls: 'mod-cta' });
        createButton.addEventListener('click', () => __awaiter(this, void 0, void 0, function* () {
            if (!this.url) {
                new obsidian.Notice('Please enter a valid tech blog URL');
                return;
            }
            try {
                // ローディングインジケータを表示し、ボタンを非表示
                this.loadingContainer.style.display = 'flex';
                this.buttonContainer.style.display = 'none';
                // Notice表示も併用
                new obsidian.Notice('Fetching blog information...');
                const blogInfo = yield this.plugin.fetchBlogInfo(this.url);
                // 生成中のメッセージに更新
                const loadingText = this.loadingContainer.querySelector('.loading-text');
                if (loadingText) {
                    loadingText.innerText = 'Creating blog card...';
                }
                yield this.plugin.createNoteFromTemplate(blogInfo);
                this.close();
            }
            catch (error) {
                // エラー時はローディングを非表示にしてボタンを再表示
                this.loadingContainer.style.display = 'none';
                this.buttonContainer.style.display = 'flex';
                new obsidian.Notice(`Error: ${error}`);
            }
        }));
        // 入力フィールドにフォーカス
        urlInput.focus();
    }
    onClose() {
        const { contentEl } = this;
        contentEl.empty();
    }
}
class FolderSelectorModal extends obsidian.Modal {
    constructor(app, onSelect) {
        super(app);
        this.onSelect = onSelect;
    }
    onOpen() {
        const { contentEl } = this;
        contentEl.createEl('h2', { text: 'Select Output Folder' });
        const folderList = contentEl.createDiv();
        folderList.style.maxHeight = '400px';
        folderList.style.overflow = 'auto';
        // フォルダの一覧を取得して表示
        const folders = [];
        this.getAllFolders(this.app.vault.getRoot(), folders);
        folders.forEach(folder => {
            const folderItem = folderList.createEl('div', { cls: 'folder-item' });
            folderItem.style.padding = '5px';
            folderItem.style.cursor = 'pointer';
            folderItem.style.borderBottom = '1px solid var(--background-modifier-border)';
            folderItem.innerHTML = `<span>${folder.path || '/'}</span>`;
            folderItem.addEventListener('click', () => {
                this.onSelect(folder);
                this.close();
            });
            folderItem.addEventListener('mouseenter', () => {
                folderItem.style.backgroundColor = 'var(--background-modifier-hover)';
            });
            folderItem.addEventListener('mouseleave', () => {
                folderItem.style.backgroundColor = '';
            });
        });
    }
    // フォルダを再帰的に取得
    getAllFolders(folder, folders) {
        folders.push(folder);
        for (const child of folder.children) {
            if (child instanceof obsidian.TFolder) {
                this.getAllFolders(child, folders);
            }
        }
    }
    onClose() {
        const { contentEl } = this;
        contentEl.empty();
    }
}

module.exports = BookCardCreator;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsibm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsInNyYy9tYWluLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSwgU3VwcHJlc3NlZEVycm9yLCBTeW1ib2wsIEl0ZXJhdG9yICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2VzRGVjb3JhdGUoY3RvciwgZGVzY3JpcHRvckluLCBkZWNvcmF0b3JzLCBjb250ZXh0SW4sIGluaXRpYWxpemVycywgZXh0cmFJbml0aWFsaXplcnMpIHtcclxuICAgIGZ1bmN0aW9uIGFjY2VwdChmKSB7IGlmIChmICE9PSB2b2lkIDAgJiYgdHlwZW9mIGYgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZ1bmN0aW9uIGV4cGVjdGVkXCIpOyByZXR1cm4gZjsgfVxyXG4gICAgdmFyIGtpbmQgPSBjb250ZXh0SW4ua2luZCwga2V5ID0ga2luZCA9PT0gXCJnZXR0ZXJcIiA/IFwiZ2V0XCIgOiBraW5kID09PSBcInNldHRlclwiID8gXCJzZXRcIiA6IFwidmFsdWVcIjtcclxuICAgIHZhciB0YXJnZXQgPSAhZGVzY3JpcHRvckluICYmIGN0b3IgPyBjb250ZXh0SW5bXCJzdGF0aWNcIl0gPyBjdG9yIDogY3Rvci5wcm90b3R5cGUgOiBudWxsO1xyXG4gICAgdmFyIGRlc2NyaXB0b3IgPSBkZXNjcmlwdG9ySW4gfHwgKHRhcmdldCA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSkgOiB7fSk7XHJcbiAgICB2YXIgXywgZG9uZSA9IGZhbHNlO1xyXG4gICAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICB2YXIgY29udGV4dCA9IHt9O1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gY29udGV4dEluKSBjb250ZXh0W3BdID0gcCA9PT0gXCJhY2Nlc3NcIiA/IHt9IDogY29udGV4dEluW3BdO1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gY29udGV4dEluLmFjY2VzcykgY29udGV4dC5hY2Nlc3NbcF0gPSBjb250ZXh0SW4uYWNjZXNzW3BdO1xyXG4gICAgICAgIGNvbnRleHQuYWRkSW5pdGlhbGl6ZXIgPSBmdW5jdGlvbiAoZikgeyBpZiAoZG9uZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgaW5pdGlhbGl6ZXJzIGFmdGVyIGRlY29yYXRpb24gaGFzIGNvbXBsZXRlZFwiKTsgZXh0cmFJbml0aWFsaXplcnMucHVzaChhY2NlcHQoZiB8fCBudWxsKSk7IH07XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9ICgwLCBkZWNvcmF0b3JzW2ldKShraW5kID09PSBcImFjY2Vzc29yXCIgPyB7IGdldDogZGVzY3JpcHRvci5nZXQsIHNldDogZGVzY3JpcHRvci5zZXQgfSA6IGRlc2NyaXB0b3Jba2V5XSwgY29udGV4dCk7XHJcbiAgICAgICAgaWYgKGtpbmQgPT09IFwiYWNjZXNzb3JcIikge1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0ID09PSBudWxsIHx8IHR5cGVvZiByZXN1bHQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QgZXhwZWN0ZWRcIik7XHJcbiAgICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5nZXQpKSBkZXNjcmlwdG9yLmdldCA9IF87XHJcbiAgICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5zZXQpKSBkZXNjcmlwdG9yLnNldCA9IF87XHJcbiAgICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5pbml0KSkgaW5pdGlhbGl6ZXJzLnVuc2hpZnQoXyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKF8gPSBhY2NlcHQocmVzdWx0KSkge1xyXG4gICAgICAgICAgICBpZiAoa2luZCA9PT0gXCJmaWVsZFwiKSBpbml0aWFsaXplcnMudW5zaGlmdChfKTtcclxuICAgICAgICAgICAgZWxzZSBkZXNjcmlwdG9yW2tleV0gPSBfO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICh0YXJnZXQpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGNvbnRleHRJbi5uYW1lLCBkZXNjcmlwdG9yKTtcclxuICAgIGRvbmUgPSB0cnVlO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcnVuSW5pdGlhbGl6ZXJzKHRoaXNBcmcsIGluaXRpYWxpemVycywgdmFsdWUpIHtcclxuICAgIHZhciB1c2VWYWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbml0aWFsaXplcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YWx1ZSA9IHVzZVZhbHVlID8gaW5pdGlhbGl6ZXJzW2ldLmNhbGwodGhpc0FyZywgdmFsdWUpIDogaW5pdGlhbGl6ZXJzW2ldLmNhbGwodGhpc0FyZyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdXNlVmFsdWUgPyB2YWx1ZSA6IHZvaWQgMDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Byb3BLZXkoeCkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiB4ID09PSBcInN5bWJvbFwiID8geCA6IFwiXCIuY29uY2F0KHgpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc2V0RnVuY3Rpb25OYW1lKGYsIG5hbWUsIHByZWZpeCkge1xyXG4gICAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN5bWJvbFwiKSBuYW1lID0gbmFtZS5kZXNjcmlwdGlvbiA/IFwiW1wiLmNvbmNhdChuYW1lLmRlc2NyaXB0aW9uLCBcIl1cIikgOiBcIlwiO1xyXG4gICAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmLCBcIm5hbWVcIiwgeyBjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiBwcmVmaXggPyBcIlwiLmNvbmNhdChwcmVmaXgsIFwiIFwiLCBuYW1lKSA6IG5hbWUgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnID0gT2JqZWN0LmNyZWF0ZSgodHlwZW9mIEl0ZXJhdG9yID09PSBcImZ1bmN0aW9uXCIgPyBJdGVyYXRvciA6IE9iamVjdCkucHJvdG90eXBlKTtcclxuICAgIHJldHVybiBnLm5leHQgPSB2ZXJiKDApLCBnW1widGhyb3dcIl0gPSB2ZXJiKDEpLCBnW1wicmV0dXJuXCJdID0gdmVyYigyKSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChnICYmIChnID0gMCwgb3BbMF0gJiYgKF8gPSAwKSksIF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2NyZWF0ZUJpbmRpbmcgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xyXG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcclxuICAgICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcclxufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn0pO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIHApKSBfX2NyZWF0ZUJpbmRpbmcobywgbSwgcCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20sIHBhY2spIHtcclxuICAgIGlmIChwYWNrIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xyXG4gICAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xyXG4gICAgICAgICAgICBhcltpXSA9IGZyb21baV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRvLmNvbmNhdChhciB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSBPYmplY3QuY3JlYXRlKCh0eXBlb2YgQXN5bmNJdGVyYXRvciA9PT0gXCJmdW5jdGlvblwiID8gQXN5bmNJdGVyYXRvciA6IE9iamVjdCkucHJvdG90eXBlKSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiLCBhd2FpdFJldHVybiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIGF3YWl0UmV0dXJuKGYpIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUodikudGhlbihmLCByZWplY3QpOyB9OyB9XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaWYgKGdbbl0pIHsgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgaWYgKGYpIGlbbl0gPSBmKGlbbl0pOyB9IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBmYWxzZSB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcclxufSkgOiBmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XHJcbn07XHJcblxyXG52YXIgb3duS2V5cyA9IGZ1bmN0aW9uKG8pIHtcclxuICAgIG93bktleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB8fCBmdW5jdGlvbiAobykge1xyXG4gICAgICAgIHZhciBhciA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGsgaW4gbykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBrKSkgYXJbYXIubGVuZ3RoXSA9IGs7XHJcbiAgICAgICAgcmV0dXJuIGFyO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBvd25LZXlzKG8pO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgPSBvd25LZXlzKG1vZCksIGkgPSAwOyBpIDwgay5sZW5ndGg7IGkrKykgaWYgKGtbaV0gIT09IFwiZGVmYXVsdFwiKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGtbaV0pO1xyXG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcclxuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcclxuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcclxuICAgIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEluKHN0YXRlLCByZWNlaXZlcikge1xyXG4gICAgaWYgKHJlY2VpdmVyID09PSBudWxsIHx8ICh0eXBlb2YgcmVjZWl2ZXIgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHJlY2VpdmVyICE9PSBcImZ1bmN0aW9uXCIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHVzZSAnaW4nIG9wZXJhdG9yIG9uIG5vbi1vYmplY3RcIik7XHJcbiAgICByZXR1cm4gdHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciA9PT0gc3RhdGUgOiBzdGF0ZS5oYXMocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hZGREaXNwb3NhYmxlUmVzb3VyY2UoZW52LCB2YWx1ZSwgYXN5bmMpIHtcclxuICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdm9pZCAwKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZC5cIik7XHJcbiAgICAgICAgdmFyIGRpc3Bvc2UsIGlubmVyO1xyXG4gICAgICAgIGlmIChhc3luYykge1xyXG4gICAgICAgICAgICBpZiAoIVN5bWJvbC5hc3luY0Rpc3Bvc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNEaXNwb3NlIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgICAgICAgICAgZGlzcG9zZSA9IHZhbHVlW1N5bWJvbC5hc3luY0Rpc3Bvc2VdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGlzcG9zZSA9PT0gdm9pZCAwKSB7XHJcbiAgICAgICAgICAgIGlmICghU3ltYm9sLmRpc3Bvc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuZGlzcG9zZSBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICAgICAgICAgIGRpc3Bvc2UgPSB2YWx1ZVtTeW1ib2wuZGlzcG9zZV07XHJcbiAgICAgICAgICAgIGlmIChhc3luYykgaW5uZXIgPSBkaXNwb3NlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIGRpc3Bvc2UgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBub3QgZGlzcG9zYWJsZS5cIik7XHJcbiAgICAgICAgaWYgKGlubmVyKSBkaXNwb3NlID0gZnVuY3Rpb24oKSB7IHRyeSB7IGlubmVyLmNhbGwodGhpcyk7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpOyB9IH07XHJcbiAgICAgICAgZW52LnN0YWNrLnB1c2goeyB2YWx1ZTogdmFsdWUsIGRpc3Bvc2U6IGRpc3Bvc2UsIGFzeW5jOiBhc3luYyB9KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGFzeW5jKSB7XHJcbiAgICAgICAgZW52LnN0YWNrLnB1c2goeyBhc3luYzogdHJ1ZSB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxuXHJcbn1cclxuXHJcbnZhciBfU3VwcHJlc3NlZEVycm9yID0gdHlwZW9mIFN1cHByZXNzZWRFcnJvciA9PT0gXCJmdW5jdGlvblwiID8gU3VwcHJlc3NlZEVycm9yIDogZnVuY3Rpb24gKGVycm9yLCBzdXBwcmVzc2VkLCBtZXNzYWdlKSB7XHJcbiAgICB2YXIgZSA9IG5ldyBFcnJvcihtZXNzYWdlKTtcclxuICAgIHJldHVybiBlLm5hbWUgPSBcIlN1cHByZXNzZWRFcnJvclwiLCBlLmVycm9yID0gZXJyb3IsIGUuc3VwcHJlc3NlZCA9IHN1cHByZXNzZWQsIGU7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kaXNwb3NlUmVzb3VyY2VzKGVudikge1xyXG4gICAgZnVuY3Rpb24gZmFpbChlKSB7XHJcbiAgICAgICAgZW52LmVycm9yID0gZW52Lmhhc0Vycm9yID8gbmV3IF9TdXBwcmVzc2VkRXJyb3IoZSwgZW52LmVycm9yLCBcIkFuIGVycm9yIHdhcyBzdXBwcmVzc2VkIGR1cmluZyBkaXNwb3NhbC5cIikgOiBlO1xyXG4gICAgICAgIGVudi5oYXNFcnJvciA9IHRydWU7XHJcbiAgICB9XHJcbiAgICB2YXIgciwgcyA9IDA7XHJcbiAgICBmdW5jdGlvbiBuZXh0KCkge1xyXG4gICAgICAgIHdoaWxlIChyID0gZW52LnN0YWNrLnBvcCgpKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXIuYXN5bmMgJiYgcyA9PT0gMSkgcmV0dXJuIHMgPSAwLCBlbnYuc3RhY2sucHVzaChyKSwgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihuZXh0KTtcclxuICAgICAgICAgICAgICAgIGlmIChyLmRpc3Bvc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gci5kaXNwb3NlLmNhbGwoci52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHIuYXN5bmMpIHJldHVybiBzIHw9IDIsIFByb21pc2UucmVzb2x2ZShyZXN1bHQpLnRoZW4obmV4dCwgZnVuY3Rpb24oZSkgeyBmYWlsKGUpOyByZXR1cm4gbmV4dCgpOyB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgcyB8PSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBmYWlsKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzID09PSAxKSByZXR1cm4gZW52Lmhhc0Vycm9yID8gUHJvbWlzZS5yZWplY3QoZW52LmVycm9yKSA6IFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgIGlmIChlbnYuaGFzRXJyb3IpIHRocm93IGVudi5lcnJvcjtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXh0KCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jld3JpdGVSZWxhdGl2ZUltcG9ydEV4dGVuc2lvbihwYXRoLCBwcmVzZXJ2ZUpzeCkge1xyXG4gICAgaWYgKHR5cGVvZiBwYXRoID09PSBcInN0cmluZ1wiICYmIC9eXFwuXFwuP1xcLy8udGVzdChwYXRoKSkge1xyXG4gICAgICAgIHJldHVybiBwYXRoLnJlcGxhY2UoL1xcLih0c3gpJHwoKD86XFwuZCk/KSgoPzpcXC5bXi4vXSs/KT8pXFwuKFtjbV0/KXRzJC9pLCBmdW5jdGlvbiAobSwgdHN4LCBkLCBleHQsIGNtKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0c3ggPyBwcmVzZXJ2ZUpzeCA/IFwiLmpzeFwiIDogXCIuanNcIiA6IGQgJiYgKCFleHQgfHwgIWNtKSA/IG0gOiAoZCArIGV4dCArIFwiLlwiICsgY20udG9Mb3dlckNhc2UoKSArIFwianNcIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGF0aDtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgX19leHRlbmRzOiBfX2V4dGVuZHMsXHJcbiAgICBfX2Fzc2lnbjogX19hc3NpZ24sXHJcbiAgICBfX3Jlc3Q6IF9fcmVzdCxcclxuICAgIF9fZGVjb3JhdGU6IF9fZGVjb3JhdGUsXHJcbiAgICBfX3BhcmFtOiBfX3BhcmFtLFxyXG4gICAgX19lc0RlY29yYXRlOiBfX2VzRGVjb3JhdGUsXHJcbiAgICBfX3J1bkluaXRpYWxpemVyczogX19ydW5Jbml0aWFsaXplcnMsXHJcbiAgICBfX3Byb3BLZXk6IF9fcHJvcEtleSxcclxuICAgIF9fc2V0RnVuY3Rpb25OYW1lOiBfX3NldEZ1bmN0aW9uTmFtZSxcclxuICAgIF9fbWV0YWRhdGE6IF9fbWV0YWRhdGEsXHJcbiAgICBfX2F3YWl0ZXI6IF9fYXdhaXRlcixcclxuICAgIF9fZ2VuZXJhdG9yOiBfX2dlbmVyYXRvcixcclxuICAgIF9fY3JlYXRlQmluZGluZzogX19jcmVhdGVCaW5kaW5nLFxyXG4gICAgX19leHBvcnRTdGFyOiBfX2V4cG9ydFN0YXIsXHJcbiAgICBfX3ZhbHVlczogX192YWx1ZXMsXHJcbiAgICBfX3JlYWQ6IF9fcmVhZCxcclxuICAgIF9fc3ByZWFkOiBfX3NwcmVhZCxcclxuICAgIF9fc3ByZWFkQXJyYXlzOiBfX3NwcmVhZEFycmF5cyxcclxuICAgIF9fc3ByZWFkQXJyYXk6IF9fc3ByZWFkQXJyYXksXHJcbiAgICBfX2F3YWl0OiBfX2F3YWl0LFxyXG4gICAgX19hc3luY0dlbmVyYXRvcjogX19hc3luY0dlbmVyYXRvcixcclxuICAgIF9fYXN5bmNEZWxlZ2F0b3I6IF9fYXN5bmNEZWxlZ2F0b3IsXHJcbiAgICBfX2FzeW5jVmFsdWVzOiBfX2FzeW5jVmFsdWVzLFxyXG4gICAgX19tYWtlVGVtcGxhdGVPYmplY3Q6IF9fbWFrZVRlbXBsYXRlT2JqZWN0LFxyXG4gICAgX19pbXBvcnRTdGFyOiBfX2ltcG9ydFN0YXIsXHJcbiAgICBfX2ltcG9ydERlZmF1bHQ6IF9faW1wb3J0RGVmYXVsdCxcclxuICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQ6IF9fY2xhc3NQcml2YXRlRmllbGRHZXQsXHJcbiAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0OiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0LFxyXG4gICAgX19jbGFzc1ByaXZhdGVGaWVsZEluOiBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4sXHJcbiAgICBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZTogX19hZGREaXNwb3NhYmxlUmVzb3VyY2UsXHJcbiAgICBfX2Rpc3Bvc2VSZXNvdXJjZXM6IF9fZGlzcG9zZVJlc291cmNlcyxcclxuICAgIF9fcmV3cml0ZVJlbGF0aXZlSW1wb3J0RXh0ZW5zaW9uOiBfX3Jld3JpdGVSZWxhdGl2ZUltcG9ydEV4dGVuc2lvbixcclxufTtcclxuIiwiaW1wb3J0IHsgQXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTW9kYWwsIE5vdGljZSwgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLCBURm9sZGVyLCBURmlsZSB9IGZyb20gJ29ic2lkaWFuJztcblxuaW50ZXJmYWNlIEJvb2tDYXJkQ3JlYXRvclNldHRpbmdzIHtcblx0Ym9va1RlbXBsYXRlUGF0aDogc3RyaW5nO1xuXHRib29rT3V0cHV0Rm9sZGVyOiBzdHJpbmc7XG5cdGJsb2dUZW1wbGF0ZVBhdGg6IHN0cmluZztcblx0YmxvZ091dHB1dEZvbGRlcjogc3RyaW5nO1xuXHRhbnRocm9waWNBcGlLZXk6IHN0cmluZztcblx0bGxtTW9kZWw6IHN0cmluZztcbn1cblxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogQm9va0NhcmRDcmVhdG9yU2V0dGluZ3MgPSB7XG5cdGJvb2tUZW1wbGF0ZVBhdGg6ICcnLFxuXHRib29rT3V0cHV0Rm9sZGVyOiAnJyxcblx0YmxvZ1RlbXBsYXRlUGF0aDogJycsXG5cdGJsb2dPdXRwdXRGb2xkZXI6ICcnLFxuXHRhbnRocm9waWNBcGlLZXk6ICcnLFxuXHRsbG1Nb2RlbDogJ2NsYXVkZS0zLWhhaWt1LTIwMjQwMzA3J1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCb29rQ2FyZENyZWF0b3IgZXh0ZW5kcyBQbHVnaW4ge1xuXHRzZXR0aW5nczogQm9va0NhcmRDcmVhdG9yU2V0dGluZ3M7XG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cblx0XHQvLyDjgrnjgr/jgqTjg6vjgrfjg7zjg4jjgpLoqq3jgb/ovrzjgoBcblx0XHR0aGlzLmxvYWRTdHlsZXMoKTtcblxuXHRcdC8vIOOCs+ODnuODs+ODieODkeODrOODg+ODiOOBq+OCs+ODnuODs+ODieOCkui/veWKoFxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ2NyZWF0ZS1ib29rLWNhcmQnLFxuXHRcdFx0bmFtZTogJ0NyZWF0ZSBCb29rIENhcmQgZnJvbSBBbWF6b24gVVJMJyxcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdG5ldyBCb29rVXJsTW9kYWwodGhpcy5hcHAsIHRoaXMpLm9wZW4oKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIOaKgOihk+ODluODreOCsOOBi+OCieOCq+ODvOODieOCkuS9nOaIkOOBmeOCi+OCs+ODnuODs+ODieOCkui/veWKoFxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ2NyZWF0ZS10ZWNoLWJsb2ctY2FyZCcsXG5cdFx0XHRuYW1lOiAnQ3JlYXRlIFRlY2ggQmxvZyBDYXJkIGZyb20gVVJMJyxcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdG5ldyBUZWNoQmxvZ1VybE1vZGFsKHRoaXMuYXBwLCB0aGlzKS5vcGVuKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyDoqK3lrprjgr/jg5bjgpLov73liqBcblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IEJvb2tDYXJkQ3JlYXRvclNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcblx0fVxuXHRcblx0Ly8g44OX44Op44Kw44Kk44Oz44Gu44K544K/44Kk44Or44K344O844OI44KS6Kqt44G/6L6844KAXG5cdGxvYWRTdHlsZXMoKSB7XG5cdFx0Ly8gT2JzaWRpYW7jga7jg5fjg6njgrDjgqTjg7Pjgafjgrnjgr/jgqTjg6vjgrfjg7zjg4jjgpLoqq3jgb/ovrzjgoDmraPjgZfjgYTmlrnms5Vcblx0XHQvLyDjg5fjg6njgrDjgqTjg7Pjga7jg57jg4vjg5Xjgqfjgrnjg4jjgafmjIflrprjgZXjgozjgZ9zdHlsZXMuY3Nz44GM6Ieq5YuV55qE44Gr6Kqt44G/6L6844G+44KM44KLXG5cdFx0Ly8g44GT44Gu44Oh44K944OD44OJ44Gv5bCG5p2l44Gu5ouh5by144Gu44Gf44KB44Gr5q6L44GX44Gm44GK44GPXG5cdH1cblxuXHRvbnVubG9hZCgpIHtcblx0fVxuXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcblx0fVxuXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuXHR9XG5cblx0YXN5bmMgY3JlYXRlTm90ZUZyb21UZW1wbGF0ZShib29rSW5mbzogQm9va0luZm8gfCBCbG9nSW5mbykge1xuXHRcdGxldCB0ZW1wbGF0ZVBhdGggPSAnJztcblx0XHRsZXQgb3V0cHV0Rm9sZGVyUGF0aCA9ICcnO1xuXHRcdFxuXHRcdC8vIEJvb2tJbmZv44GLQmxvZ0luZm/jgYvjgpLliKTlrprjgZfjgabjg4bjg7Pjg5fjg6zjg7zjg4jjgajlh7rlipvjg5Xjgqnjg6vjg4DjgpLpgbjmip5cblx0XHRpZiAoJ2FtYXpvblVybCcgaW4gYm9va0luZm8pIHtcblx0XHRcdC8vIEJvb2tJbmZv44Gu5aC05ZCIXG5cdFx0XHR0ZW1wbGF0ZVBhdGggPSB0aGlzLnNldHRpbmdzLmJvb2tUZW1wbGF0ZVBhdGg7XG5cdFx0XHRvdXRwdXRGb2xkZXJQYXRoID0gdGhpcy5zZXR0aW5ncy5ib29rT3V0cHV0Rm9sZGVyO1xuXHRcdH0gZWxzZSBpZiAoJ2Jsb2dVcmwnIGluIGJvb2tJbmZvKSB7XG5cdFx0XHQvLyBCbG9nSW5mb+OBruWgtOWQiFxuXHRcdFx0dGVtcGxhdGVQYXRoID0gdGhpcy5zZXR0aW5ncy5ibG9nVGVtcGxhdGVQYXRoO1xuXHRcdFx0b3V0cHV0Rm9sZGVyUGF0aCA9IHRoaXMuc2V0dGluZ3MuYmxvZ091dHB1dEZvbGRlcjtcblx0XHR9XG5cdFx0XG5cdFx0Ly8g44OG44Oz44OX44Os44O844OI44OV44Kh44Kk44Or44GM5a2Y5Zyo44GZ44KL44GL56K66KqNXG5cdFx0Y29uc3QgdGVtcGxhdGVGaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHRlbXBsYXRlUGF0aCk7XG5cdFx0aWYgKCEodGVtcGxhdGVGaWxlIGluc3RhbmNlb2YgVEZpbGUpKSB7XG5cdFx0XHRuZXcgTm90aWNlKCdUZW1wbGF0ZSBmaWxlIG5vdCBmb3VuZC4gUGxlYXNlIGNoZWNrIHlvdXIgc2V0dGluZ3MuJyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8g5Ye65Yqb44OV44Kp44Or44OA44GM5a2Y5Zyo44GZ44KL44GL56K66KqNXG5cdFx0Y29uc3Qgb3V0cHV0Rm9sZGVyID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKG91dHB1dEZvbGRlclBhdGgpO1xuXHRcdGlmICghKG91dHB1dEZvbGRlciBpbnN0YW5jZW9mIFRGb2xkZXIpKSB7XG5cdFx0XHRuZXcgTm90aWNlKCdPdXRwdXQgZm9sZGVyIG5vdCBmb3VuZC4gUGxlYXNlIGNoZWNrIHlvdXIgc2V0dGluZ3MuJyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8g44OG44Oz44OX44Os44O844OI44Gu5YaF5a6544KS5Y+W5b6XXG5cdFx0Y29uc3QgdGVtcGxhdGVDb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZCh0ZW1wbGF0ZUZpbGUpO1xuXG5cdFx0Ly8g44OG44Oz44OX44Os44O844OI44Gu5YaF5a6544KS572u5o+bXG5cdFx0bGV0IG5ld0NvbnRlbnQgPSB0ZW1wbGF0ZUNvbnRlbnQ7XG5cdFx0XG5cdFx0Ly8gQm9va0luZm/jgYtCbG9nSW5mb+OBi+OCkuWIpOWumuOBl+OBpumBqeWIh+OBque9ruaPm+OCkuihjOOBhlxuXHRcdGlmICgnYW1hem9uVXJsJyBpbiBib29rSW5mbykge1xuXHRcdFx0Ly8gQm9va0luZm/jga7loLTlkIhcblx0XHRcdGNvbnN0IGJvb2sgPSBib29rSW5mbyBhcyBCb29rSW5mbztcblx0XHRcdG5ld0NvbnRlbnQgPSBuZXdDb250ZW50LnJlcGxhY2UoL3t7Ym9vay1jcmVhdG9yOnRpdGxlfX0vZywgYm9vay50aXRsZSk7XG5cdFx0XHRuZXdDb250ZW50ID0gbmV3Q29udGVudC5yZXBsYWNlKC97e2Jvb2stY3JlYXRvcjphdXRob3J9fS9nLCBib29rLmF1dGhvcik7XG5cdFx0XHRuZXdDb250ZW50ID0gbmV3Q29udGVudC5yZXBsYWNlKC97e2Jvb2stY3JlYXRvcjpnZW5yZX19L2csIGJvb2suZ2VucmUpO1xuXHRcdFx0bmV3Q29udGVudCA9IG5ld0NvbnRlbnQucmVwbGFjZSgve3tib29rLWNyZWF0b3I6c3VtbWFyeX19L2csIGJvb2suc3VtbWFyeSk7XG5cdFx0XHQvLyBBbWF6b24gVVJM44KSTWFya2Rvd27jg6rjg7Pjgq/jgajjgZfjgabmjL/lhaVcblx0XHRcdG5ld0NvbnRlbnQgPSBuZXdDb250ZW50LnJlcGxhY2UoL3t7Ym9vay1jcmVhdG9yOmFtYXpvbi1saW5rfX0vZywgdGhpcy5jcmVhdGVNYXJrZG93bkxpbmsoYm9vay50aXRsZSwgYm9vay5hbWF6b25VcmwpKTtcblx0XHR9IGVsc2UgaWYgKCdibG9nVXJsJyBpbiBib29rSW5mbykge1xuXHRcdFx0Ly8gQmxvZ0luZm/jga7loLTlkIhcblx0XHRcdGNvbnN0IGJsb2cgPSBib29rSW5mbyBhcyBCbG9nSW5mbztcblx0XHRcdG5ld0NvbnRlbnQgPSBuZXdDb250ZW50LnJlcGxhY2UoL3t7YmxvZy1jcmVhdG9yOnRpdGxlfX0vZywgYmxvZy50aXRsZSk7XG5cdFx0XHRuZXdDb250ZW50ID0gbmV3Q29udGVudC5yZXBsYWNlKC97e2Jsb2ctY3JlYXRvcjpzdW1tYXJ5fX0vZywgYmxvZy5zdW1tYXJ5KTtcblx0XHRcdC8vIEJsb2cgVVJM44KSTWFya2Rvd27jg6rjg7Pjgq/jgajjgZfjgabmjL/lhaVcblx0XHRcdG5ld0NvbnRlbnQgPSBuZXdDb250ZW50LnJlcGxhY2UoL3t7YmxvZy1jcmVhdG9yOmJsb2ctbGlua319L2csIHRoaXMuY3JlYXRlTWFya2Rvd25MaW5rKGJsb2cudGl0bGUsIGJsb2cuYmxvZ1VybCkpO1xuXHRcdH1cblxuXHRcdC8vIOODleOCoeOCpOODq+WQje+8iOOCv+OCpOODiOODq+OBi+OCieS4jeato+OBquaWh+Wtl+OCkumZpOWOu++8iVxuXHRcdGNvbnN0IGZpbGVOYW1lID0gYCR7J3RpdGxlJyBpbiBib29rSW5mbyA/IGJvb2tJbmZvLnRpdGxlLnJlcGxhY2UoL1tcXFxcLzoqP1wiPD58XS9nLCAnJykgOiAnYmxvZyd9Lm1kYDtcblx0XHRjb25zdCBmaWxlUGF0aCA9IGAke291dHB1dEZvbGRlclBhdGh9LyR7ZmlsZU5hbWV9YDtcblxuXHRcdC8vIOaWsOOBl+OBhOODjuODvOODiOOCkuS9nOaIkFxuXHRcdHRyeSB7XG5cdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGUoZmlsZVBhdGgsIG5ld0NvbnRlbnQpO1xuXHRcdFx0bmV3IE5vdGljZShgQ2FyZCBjcmVhdGVkOiAke2ZpbGVOYW1lfWApO1xuXHRcdFx0XG5cdFx0XHQvLyDkvZzmiJDjgZfjgZ/jg47jg7zjg4jjgpLplovjgY9cblx0XHRcdGNvbnN0IG5ld0ZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZVBhdGgpO1xuXHRcdFx0aWYgKG5ld0ZpbGUgaW5zdGFuY2VvZiBURmlsZSkge1xuXHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZigpLm9wZW5GaWxlKG5ld0ZpbGUpO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRuZXcgTm90aWNlKGBFcnJvciBjcmVhdGluZyBub3RlOiAke2Vycm9yfWApO1xuXHRcdH1cblx0fVxuXG5cdGFzeW5jIGZldGNoQmxvZ0luZm8oYmxvZ1VybDogc3RyaW5nKTogUHJvbWlzZTxCbG9nSW5mbz4ge1xuXHRcdC8vIFVSTOOBruODkOODquODh+ODvOOCt+ODp+ODs1xuXHRcdGlmICghYmxvZ1VybC5pbmNsdWRlcygnaHR0cCcpKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgQmxvZyBVUkwnKTtcblx0XHR9XG5cblx0XHR0cnkge1xuXHRcdFx0Ly8gQ09SU+OBruWVj+mhjOOCkuWbnumBv+OBmeOCi+OBn+OCgeOBq+ODl+ODreOCreOCt+OCteODvOODk+OCueOCkuS9v+eUqFxuXHRcdFx0Y29uc3QgcHJveHlVcmxzID0gW1xuXHRcdFx0XHRgaHR0cHM6Ly9hcGkuYWxsb3JpZ2lucy53aW4vZ2V0P3VybD0ke2VuY29kZVVSSUNvbXBvbmVudChibG9nVXJsKX1gLFxuXHRcdFx0XHRgaHR0cHM6Ly9jb3JzcHJveHkuaW8vPyR7ZW5jb2RlVVJJQ29tcG9uZW50KGJsb2dVcmwpfWAsXG5cdFx0XHRcdGBodHRwczovL2NvcnMtYW55d2hlcmUuaGVyb2t1YXBwLmNvbS8ke2Jsb2dVcmx9YFxuXHRcdFx0XTtcblx0XHRcdFxuXHRcdFx0bGV0IGh0bWxDb250ZW50ID0gJyc7XG5cdFx0XHRsZXQgcHJveHlFcnJvciA9ICcnO1xuXHRcdFx0XG5cdFx0XHQvLyDjg5fjg63jgq3jgrfjgpLpoIbnlarjgavoqabjgZlcblx0XHRcdGZvciAoY29uc3QgcHJveHlVcmwgb2YgcHJveHlVcmxzKSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChwcm94eVVybCk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0aWYgKCFyZXNwb25zZS5vaykge1xuXHRcdFx0XHRcdFx0cHJveHlFcnJvciA9IGBGYWlsZWQgdG8gZmV0Y2ggZGF0YTogJHtyZXNwb25zZS5zdGF0dXN9YDtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcblx0XHRcdFx0XHQvLyDjg6zjgrnjg53jg7Pjgrnjgr/jgqTjg5fjgpLnorroqo1cblx0XHRcdFx0XHRjb25zdCBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRpZiAoY29udGVudFR5cGUgJiYgY29udGVudFR5cGUuaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL2pzb24nKSkge1xuXHRcdFx0XHRcdFx0Ly8gSlNPTuODrOOCueODneODs+OCueOBruWgtOWQiFxuXHRcdFx0XHRcdFx0Y29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXHRcdFx0XHRcdFx0aWYgKHJlc3BvbnNlRGF0YS5jb250ZW50cykge1xuXHRcdFx0XHRcdFx0XHQvLyBhbGxvcmlnaW5z5b2i5byP44Gu44Os44K544Od44Oz44K5XG5cdFx0XHRcdFx0XHRcdGh0bWxDb250ZW50ID0gcmVzcG9uc2VEYXRhLmNvbnRlbnRzO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQvLyDjg4bjgq3jgrnjg4gvSFRNTOODrOOCueODneODs+OCueOBruWgtOWQiFxuXHRcdFx0XHRcdFx0aHRtbENvbnRlbnQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8vIOaIkOWKn+OBl+OBn+OCieODq+ODvOODl+OCkuaKnOOBkeOCi1xuXHRcdFx0XHRcdGlmIChodG1sQ29udGVudCkgYnJlYWs7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRcdHByb3h5RXJyb3IgPSBgUHJveHkgZXJyb3I6ICR7ZXJyLm1lc3NhZ2V9YDtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRpZiAoIWh0bWxDb250ZW50KSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIGJsb2cgZGF0YTogJHtwcm94eUVycm9yfWApO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvLyBIVE1M44GL44KJ44Oh44K/44OH44O844K/44KS5oq95Ye6XG5cdFx0XHRjb25zdCB0aXRsZU1hdGNoID0gaHRtbENvbnRlbnQubWF0Y2goLzx0aXRsZVtePl0qPihbXjxdKyk8XFwvdGl0bGU+LykgfHwgXG5cdFx0XHRcdGh0bWxDb250ZW50Lm1hdGNoKC88aDFbXj5dKj4oW148XSspPFxcL2gxPi8pO1xuXHRcdFx0XG5cdFx0XHQvLyDjg5rjg7zjgrjjgrPjg7Pjg4bjg7Pjg4TjgpLlj5blvpdcblx0XHRcdGNvbnN0IGJvZHlDb250ZW50ID0gdGhpcy5leHRyYWN0TWFpbkNvbnRlbnQoaHRtbENvbnRlbnQpO1xuXHRcdFx0Y29uc3QgY2xlYW5lZENvbnRlbnQgPSB0aGlzLmNsZWFuSHRtbChib2R5Q29udGVudCk7XG5cdFx0XHRcblx0XHRcdC8vIEFudGhyb3BpYyBBUEnjgafopoHntITjgpLnlJ/miJBcblx0XHRcdGxldCBzdW1tYXJ5ID0gJ05vIHN1bW1hcnkgYXZhaWxhYmxlLic7XG5cdFx0XHRpZiAoY2xlYW5lZENvbnRlbnQgJiYgdGhpcy5zZXR0aW5ncy5hbnRocm9waWNBcGlLZXkpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRzdW1tYXJ5ID0gYXdhaXQgdGhpcy5nZW5lcmF0ZVN1bW1hcnlXaXRoQW50aHJvcGljKGNsZWFuZWRDb250ZW50KTtcblx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKCdFcnJvciBnZW5lcmF0aW5nIHN1bW1hcnk6JywgZXJyb3IpO1xuXHRcdFx0XHRcdHN1bW1hcnkgPSAnRmFpbGVkIHRvIGdlbmVyYXRlIHN1bW1hcnk6ICcgKyBlcnJvci5tZXNzYWdlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIOODh+ODvOOCv+OCkuaVtOW9ouOBl+OBpui/lOOBmVxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0dGl0bGU6IHRpdGxlTWF0Y2ggPyB0aXRsZU1hdGNoWzFdLnRyaW0oKSA6ICdVbmtub3duIFRpdGxlJyxcblx0XHRcdFx0c3VtbWFyeTogc3VtbWFyeSxcblx0XHRcdFx0YmxvZ1VybDogYmxvZ1VybFxuXHRcdFx0fTtcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYmxvZyBpbmZvcm1hdGlvbjonLCBlcnJvcik7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBibG9nIGluZm9ybWF0aW9uLiBQbGVhc2UgY2hlY2sgdGhlIFVSTCBhbmQgdHJ5IGFnYWluLicpO1xuXHRcdH1cblx0fVxuXHRcblx0Ly8g44Oh44Kk44Oz44Kz44Oz44OG44Oz44OE44KS5oq95Ye644GZ44KL44OY44Or44OR44O844Oh44K944OD44OJXG5cdHByaXZhdGUgZXh0cmFjdE1haW5Db250ZW50KGh0bWw6IHN0cmluZyk6IHN0cmluZyB7XG5cdFx0Ly8g5LiA6Iis55qE44Gq44Kz44Oz44OG44Oz44OE44Kz44Oz44OG44OK44KS5o6i44GZXG5cdFx0Y29uc3QgY29udGVudE1hdGNoZXMgPSBbXG5cdFx0XHRodG1sLm1hdGNoKC88YXJ0aWNsZVtePl0qPihbXFxzXFxTXSo/KTxcXC9hcnRpY2xlPi8pLFxuXHRcdFx0aHRtbC5tYXRjaCgvPG1haW5bXj5dKj4oW1xcc1xcU10qPyk8XFwvbWFpbj4vKSxcblx0XHRcdGh0bWwubWF0Y2goLzxkaXZbXj5dKj9jbGFzcz1cIlteXCJdKj9jb250ZW50W15cIl0qP1wiW14+XSo+KFtcXHNcXFNdKj8pPFxcL2Rpdj4vaSksXG5cdFx0XHRodG1sLm1hdGNoKC88ZGl2W14+XSo/Y2xhc3M9XCJbXlwiXSo/ZW50cnlbXlwiXSo/XCJbXj5dKj4oW1xcc1xcU10qPyk8XFwvZGl2Pi9pKSxcblx0XHRcdGh0bWwubWF0Y2goLzxkaXZbXj5dKj9jbGFzcz1cIlteXCJdKj9wb3N0W15cIl0qP1wiW14+XSo+KFtcXHNcXFNdKj8pPFxcL2Rpdj4vaSlcblx0XHRdO1xuXHRcdFxuXHRcdGZvciAoY29uc3QgbWF0Y2ggb2YgY29udGVudE1hdGNoZXMpIHtcblx0XHRcdGlmIChtYXRjaCAmJiBtYXRjaFsxXSkge1xuXHRcdFx0XHRyZXR1cm4gbWF0Y2hbMV07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHRcdC8vIOODoeOCpOODs+OCs+ODs+ODhuODs+ODhOOBjOimi+OBpOOBi+OCieOBquOBhOWgtOWQiOOBr2JvZHnjgr/jgrDjga7kuK3ouqvjgpLov5TjgZlcblx0XHRjb25zdCBib2R5TWF0Y2ggPSBodG1sLm1hdGNoKC88Ym9keVtePl0qPihbXFxzXFxTXSo/KTxcXC9ib2R5Pi8pO1xuXHRcdHJldHVybiBib2R5TWF0Y2ggPyBib2R5TWF0Y2hbMV0gOiBodG1sO1xuXHR9XG5cdFxuXHQvLyBBbnRocm9waWMgQVBJ44Gn6KaB57SE44KS55Sf5oiQ44GZ44KL44Oh44K944OD44OJXG5cdHByaXZhdGUgYXN5bmMgZ2VuZXJhdGVTdW1tYXJ5V2l0aEFudGhyb3BpYyhjb250ZW50OiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuXHRcdGNvbnN0IGFwaUtleSA9IHRoaXMuc2V0dGluZ3MuYW50aHJvcGljQXBpS2V5O1xuXHRcdGlmICghYXBpS2V5KSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0FudGhyb3BpYyBBUEkga2V5IGlzIG5vdCBzZXQnKTtcblx0XHR9XG5cdFx0XG5cdFx0Y29uc3QgbWF4Q29udGVudExlbmd0aCA9IDEwMDAwOyAvLyDplbfjgZnjgY7jgovjgrPjg7Pjg4bjg7Pjg4Tjga/liIfjgoroqbDjgoHjgotcblx0XHRjb25zdCB0cnVuY2F0ZWRDb250ZW50ID0gY29udGVudC5sZW5ndGggPiBtYXhDb250ZW50TGVuZ3RoID8gXG5cdFx0XHRjb250ZW50LnN1YnN0cmluZygwLCBtYXhDb250ZW50TGVuZ3RoKSArICcuLi4nIDogY29udGVudDtcblx0XHRcblx0XHRjb25zdCBwcm9tcHQgPSBgXG5IZXJlJ3MgdGhlIGNvbnRlbnQgb2YgYSB0ZWNobmljYWwgYmxvZyBwb3N0LiBQbGVhc2Ugc3VtbWFyaXplIGl0IGluIGEgY29uY2lzZSB3YXksIGhpZ2hsaWdodGluZyB0aGUgbWFpbiBwb2ludHMsIGtleSB0ZWNobmljYWwgY29uY2VwdHMsIGFuZCBhbnkgaW1wb3J0YW50IGNvbmNsdXNpb25zOlxuXG4ke3RydW5jYXRlZENvbnRlbnR9XG5cblN1bW1hcnk6YDtcblx0XHRcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkuYW50aHJvcGljLmNvbS92MS9tZXNzYWdlcycsIHtcblx0XHRcdFx0bWV0aG9kOiAnUE9TVCcsXG5cdFx0XHRcdGhlYWRlcnM6IHtcblx0XHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuXHRcdFx0XHRcdCd4LWFwaS1rZXknOiBhcGlLZXksXG5cdFx0XHRcdFx0J2FudGhyb3BpYy12ZXJzaW9uJzogJzIwMjMtMDYtMDEnXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcblx0XHRcdFx0XHRtb2RlbDogdGhpcy5zZXR0aW5ncy5sbG1Nb2RlbCxcblx0XHRcdFx0XHRtYXhfdG9rZW5zOiAxMDAwLFxuXHRcdFx0XHRcdG1lc3NhZ2VzOiBbXG5cdFx0XHRcdFx0XHR7IHJvbGU6ICd1c2VyJywgY29udGVudDogcHJvbXB0IH1cblx0XHRcdFx0XHRdXG5cdFx0XHRcdH0pXG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0aWYgKCFyZXNwb25zZS5vaykge1xuXHRcdFx0XHRjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgQW50aHJvcGljIEFQSSBFcnJvcjogJHtlcnJvckRhdGEuZXJyb3I/Lm1lc3NhZ2UgfHwgcmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblx0XHRcdHJldHVybiBkYXRhLmNvbnRlbnRbMF0udGV4dCB8fCAnTm8gc3VtbWFyeSBhdmFpbGFibGUuJztcblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y29uc29sZS5lcnJvcignRXJyb3IgY2FsbGluZyBBbnRocm9waWMgQVBJOicsIGVycm9yKTtcblx0XHRcdHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGdlbmVyYXRlIHN1bW1hcnkgd2l0aCBBbnRocm9waWMgQVBJJyk7XG5cdFx0fVxuXHR9XG5cdFxuXHRhc3luYyBmZXRjaEJvb2tJbmZvKGFtYXpvblVybDogc3RyaW5nKTogUHJvbWlzZTxCb29rSW5mbz4ge1xuXHRcdC8vIFVSTOOBruODkOODquODh+ODvOOCt+ODp+ODs1xuXHRcdGlmICghYW1hem9uVXJsLmluY2x1ZGVzKCdhbWF6b24nKSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEFtYXpvbiBVUkwnKTtcblx0XHR9XG5cblx0XHR0cnkge1xuXHRcdFx0Ly8gQ09SU+OBruWVj+mhjOOCkuWbnumBv+OBmeOCi+OBn+OCgeOBq+ODl+ODreOCreOCt+OCteODvOODk+OCueOCkuS9v+eUqFxuXHRcdFx0Ly8g6KSH5pWw44Gu44OX44Ot44Kt44K344Kq44OX44K344On44Oz44KS55So5oSPXG5cdFx0XHRjb25zdCBwcm94eVVybHMgPSBbXG5cdFx0XHRcdGBodHRwczovL2FwaS5hbGxvcmlnaW5zLndpbi9nZXQ/dXJsPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGFtYXpvblVybCl9YCxcblx0XHRcdFx0YGh0dHBzOi8vY29yc3Byb3h5LmlvLz8ke2VuY29kZVVSSUNvbXBvbmVudChhbWF6b25VcmwpfWAsXG5cdFx0XHRcdGBodHRwczovL2NvcnMtYW55d2hlcmUuaGVyb2t1YXBwLmNvbS8ke2FtYXpvblVybH1gXG5cdFx0XHRdO1xuXHRcdFx0XG5cdFx0XHRsZXQgaHRtbENvbnRlbnQgPSAnJztcblx0XHRcdGxldCBwcm94eUVycm9yID0gJyc7XG5cdFx0XHRcblx0XHRcdC8vIOODl+ODreOCreOCt+OCkumghueVquOBq+ippuOBmVxuXHRcdFx0Zm9yIChjb25zdCBwcm94eVVybCBvZiBwcm94eVVybHMpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHByb3h5VXJsKTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRpZiAoIXJlc3BvbnNlLm9rKSB7XG5cdFx0XHRcdFx0XHRwcm94eUVycm9yID0gYEZhaWxlZCB0byBmZXRjaCBkYXRhOiAke3Jlc3BvbnNlLnN0YXR1c31gO1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8vIOODrOOCueODneODs+OCueOCv+OCpOODl+OCkueiuuiqjVxuXHRcdFx0XHRcdGNvbnN0IGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGlmIChjb250ZW50VHlwZSAmJiBjb250ZW50VHlwZS5pbmNsdWRlcygnYXBwbGljYXRpb24vanNvbicpKSB7XG5cdFx0XHRcdFx0XHQvLyBKU09O44Os44K544Od44Oz44K544Gu5aC05ZCIXG5cdFx0XHRcdFx0XHRjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cdFx0XHRcdFx0XHRpZiAocmVzcG9uc2VEYXRhLmNvbnRlbnRzKSB7XG5cdFx0XHRcdFx0XHRcdC8vIGFsbG9yaWdpbnPlvaLlvI/jga7jg6zjgrnjg53jg7Pjgrlcblx0XHRcdFx0XHRcdFx0aHRtbENvbnRlbnQgPSByZXNwb25zZURhdGEuY29udGVudHM7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdC8vIOODhuOCreOCueODiC9IVE1M44Os44K544Od44Oz44K544Gu5aC05ZCIXG5cdFx0XHRcdFx0XHRodG1sQ29udGVudCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0Ly8g5oiQ5Yqf44GX44Gf44KJ44Or44O844OX44KS5oqc44GR44KLXG5cdFx0XHRcdFx0aWYgKGh0bWxDb250ZW50KSBicmVhaztcblx0XHRcdFx0XHRcblx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdFx0cHJveHlFcnJvciA9IGBQcm94eSBlcnJvcjogJHtlcnIubWVzc2FnZX1gO1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGlmICghaHRtbENvbnRlbnQpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggQW1hem9uIGRhdGE6ICR7cHJveHlFcnJvcn1gKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8gSFRNTOOBi+OCieODoeOCv+ODh+ODvOOCv+OCkuaKveWHulxuXHRcdFx0Y29uc3QgdGl0bGVNYXRjaCA9IGh0bWxDb250ZW50Lm1hdGNoKC88c3BhbiBpZD1cInByb2R1Y3RUaXRsZVwiW14+XSo+KFtePF0rKTxcXC9zcGFuPi8pO1xuXHRcdFx0Y29uc3QgYXV0aG9yTWF0Y2ggPSBodG1sQ29udGVudC5tYXRjaCgvPGEgY2xhc3M9XCJbXlwiXSpcIiBocmVmPVwiW15cIl0qXFwvZVxcL1teXCJdKlwiPihbXjxdKyk8XFwvYT4vKSB8fCBcblx0XHRcdFx0aHRtbENvbnRlbnQubWF0Y2goL2lkPVwiYnlsaW5lSW5mb1wiW14+XSo+W1xcc1xcU10qPzxzcGFuW14+XSo+KFtePF0rKTxcXC9zcGFuPi8pO1xuXHRcdFx0XG5cdFx0XHQvLyDllYblk4HoqqzmmI7jgpLlj5blvpcgKOikh+aVsOOBruODkeOCv+ODvOODs+OBq+WvvuW/nOOAgeOCiOOCiuips+e0sOOBquOCs+ODs+ODhuODs+ODhOOCkuWPluW+lylcblx0XHRcdGNvbnN0IHN1bW1hcnlNYXRjaCA9IGh0bWxDb250ZW50Lm1hdGNoKC88ZGl2IGlkPVwiYm9va0Rlc2NyaXB0aW9uX2ZlYXR1cmVfZGl2XCJbXj5dKj4oW1xcc1xcU10qPyk8XFwvZGl2Pi8pIHx8IFxuXHRcdFx0XHRodG1sQ29udGVudC5tYXRjaCgvPGRpdiBpZD1cInByb2R1Y3REZXNjcmlwdGlvblwiW14+XSo+KFtcXHNcXFNdKj8pPFxcL2Rpdj4vKSB8fFxuXHRcdFx0XHRodG1sQ29udGVudC5tYXRjaCgvPGRpdiBjbGFzcz1cImEtZXhwYW5kZXItY29udGVudFteXCJdKlwiIGlkPVwiW15cIl0qRGVzY3JpcHRpb25bXlwiXSpcIltePl0qPihbXFxzXFxTXSo/KTxcXC9kaXY+LykgfHxcblx0XHRcdFx0aHRtbENvbnRlbnQubWF0Y2goLzxub3NjcmlwdD48ZGl2PihbXFxzXFxTXSo/KTxcXC9kaXY+PFxcL25vc2NyaXB0Pi8pO1xuXHRcdFx0XG5cdFx0XHQvLyDjgrjjg6Pjg7Pjg6vmg4XloLHjgpLlj5blvpfvvIjjgqvjg4bjgrTjg6rpmo7lsaTjgYvjgonoqbPntLDjgarjgrjjg6Pjg7Pjg6vjgpLmir3lh7rvvIlcblx0XHRcdGxldCBnZW5yZSA9ICdGaWN0aW9uJzsgLy8g44OH44OV44Kp44Or44OI44Gu44K444Oj44Oz44OrXG5cdFx0XHRcblx0XHRcdC8vIOODkeODs+OBj+OBmuODquOCueODiOOBi+OCieOCq+ODhuOCtOODqumajuWxpOOCkuWPluW+l1xuXHRcdFx0Y29uc3QgYnJlYWRjcnVtYnNNYXRjaCA9IGh0bWxDb250ZW50Lm1hdGNoKC9pZD1cIndheWZpbmRpbmctYnJlYWRjcnVtYnNfZmVhdHVyZV9kaXZcIltePl0qPihbXFxzXFxTXSo/KTxcXC9kaXY+Lyk7XG5cdFx0XHRpZiAoYnJlYWRjcnVtYnNNYXRjaCkge1xuXHRcdFx0XHRjb25zdCBicmVhZGNydW1icyA9IGJyZWFkY3J1bWJzTWF0Y2hbMV07XG5cdFx0XHRcdC8vIOOBmeOBueOBpuOBruODquODs+OCr+ODhuOCreOCueODiOOCkuaKveWHulxuXHRcdFx0XHRjb25zdCBjYXRlZ29yeUxpbmtzID0gYnJlYWRjcnVtYnMubWF0Y2goLzxhW14+XSo+KFtePF0rKTxcXC9hPi9nKTtcblx0XHRcdFx0XG5cdFx0XHRcdGlmIChjYXRlZ29yeUxpbmtzICYmIGNhdGVnb3J5TGlua3MubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdC8vIOacgOOCguWFt+S9k+eahOOBquOCq+ODhuOCtOODquOCkuWPluW+l+OBmeOCi+OBn+OCgeOBq+OAgeacgOW+jOOBi+OCiTLnlarnm67jga7jgqvjg4bjgrTjg6rjgpLkvb/nlKhcblx0XHRcdFx0XHQvLyAo5pyA5b6M44Gv44KI44GP44CMS2luZGxlIFN0b3Jl44CN44Gr44Gq44KL44Gf44KBKVxuXHRcdFx0XHRcdGNvbnN0IHRhcmdldEluZGV4ID0gTWF0aC5tYXgoMCwgY2F0ZWdvcnlMaW5rcy5sZW5ndGggLSAyKTtcblx0XHRcdFx0XHRjb25zdCB0YXJnZXRDYXRlZ29yeSA9IGNhdGVnb3J5TGlua3NbdGFyZ2V0SW5kZXhdLm1hdGNoKC88YVtePl0qPihbXjxdKyk8XFwvYT4vKTtcblx0XHRcdFx0XHRpZiAodGFyZ2V0Q2F0ZWdvcnkpIHtcblx0XHRcdFx0XHRcdGdlbnJlID0gdGFyZ2V0Q2F0ZWdvcnlbMV0udHJpbSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvLyDku5bjga7mlrnms5XjgafjgoLjgrjjg6Pjg7Pjg6vmg4XloLHjgpLmjqLjgZlcblx0XHRcdGlmIChnZW5yZSA9PT0gJ0ZpY3Rpb24nIHx8IGdlbnJlID09PSAnS2luZGxlIFN0b3JlJykge1xuXHRcdFx0XHRjb25zdCBnZW5yZU1hdGNoID0gaHRtbENvbnRlbnQubWF0Y2goLzxhIGNsYXNzPVwiYS1saW5rLW5vcm1hbCBhLWNvbG9yLXRlcnRpYXJ5XCJbXj5dKj4oW148XSspPFxcL2E+Lyk7XG5cdFx0XHRcdGlmIChnZW5yZU1hdGNoICYmIGdlbnJlTWF0Y2hbMV0udHJpbSgpICE9PSAnS2luZGxlIFN0b3JlJykge1xuXHRcdFx0XHRcdGdlbnJlID0gZ2VucmVNYXRjaFsxXS50cmltKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8g44OH44O844K/44KS5pW05b2i44GX44Gm6L+U44GZXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHR0aXRsZTogdGl0bGVNYXRjaCA/IHRpdGxlTWF0Y2hbMV0udHJpbSgpIDogJ1Vua25vd24gVGl0bGUnLFxuXHRcdFx0XHRhdXRob3I6IGF1dGhvck1hdGNoID8gYXV0aG9yTWF0Y2hbMV0udHJpbSgpIDogJ1Vua25vd24gQXV0aG9yJyxcblx0XHRcdFx0Z2VucmU6IGdlbnJlLFxuXHRcdFx0XHRzdW1tYXJ5OiBzdW1tYXJ5TWF0Y2ggPyB0aGlzLmNsZWFuSHRtbChzdW1tYXJ5TWF0Y2hbMV0pLnRyaW0oKSA6ICdObyBzdW1tYXJ5IGF2YWlsYWJsZS4nLFxuXHRcdFx0XHRhbWF6b25Vcmw6IGFtYXpvblVybCAvLyBBbWF6b24gVVJM44KS5L+d5a2YXG5cdFx0XHR9O1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBib29rIGluZm9ybWF0aW9uOicsIGVycm9yKTtcblx0XHRcdHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIGJvb2sgaW5mb3JtYXRpb24uIFBsZWFzZSBjaGVjayB0aGUgVVJMIGFuZCB0cnkgYWdhaW4uJyk7XG5cdFx0fVxuXHR9XG5cdFxuXHQvLyBIVE1M44K/44Kw44KS6Zmk5Y6744GZ44KL44OY44Or44OR44O844Oh44K944OD44OJ77yI5pS56KGM44KS57at5oyB77yJXG5cdHByaXZhdGUgY2xlYW5IdG1sKGh0bWw6IHN0cmluZyk6IHN0cmluZyB7XG5cdFx0Ly8gPGJyPuOChDwvcD7jgr/jgrDjgpLmlLnooYzjgavnva7mj5vjgZfjgabjgYvjgonku5bjga5IVE1M44K/44Kw44KS5YmK6ZmkXG5cdFx0cmV0dXJuIGh0bWxcblx0XHRcdC5yZXBsYWNlKC88YnJbXj5dKj4vZ2ksICdcXG4nKVxuXHRcdFx0LnJlcGxhY2UoLzxcXC9wPi9naSwgJ1xcblxcbicpXG5cdFx0XHQucmVwbGFjZSgvPFtePl0qPi9nLCAnICcpXG5cdFx0XHQucmVwbGFjZSgvXFxzezIsfS9nLCAnICcpXG5cdFx0XHQudHJpbSgpO1xuXHR9XG5cdFxuXHQvLyBPYnNpZGlhbuOBruOCv+OCsOOChOODquODs+OCr+OBq+W5sua4ieOBmeOCi+aWh+Wtl+OCkumZpOWOu+OBl+OAgU1hcmtkb3du44Oq44Oz44Kv44KS5L2c5oiQXG5cdHByaXZhdGUgY3JlYXRlTWFya2Rvd25MaW5rKHRpdGxlOiBzdHJpbmcsIHVybDogc3RyaW5nKTogc3RyaW5nIHtcblx0XHQvLyBPYnNpZGlhbuOBruOCv+OCsOOChOODquODs+OCr+OBq+S9v+OCj+OCjOOCi+eJueauiuaWh+Wtl+OCkumZpOWOu1xuXHRcdGNvbnN0IGNsZWFuVGl0bGUgPSB0aXRsZS5yZXBsYWNlKC9bI1xcW1xcXXxdL2csICcnKS50cmltKCk7XG5cdFx0Ly8gTWFya2Rvd27lvaLlvI/jga7jg6rjg7Pjgq/jgpLkvZzmiJBcblx0XHRyZXR1cm4gYFske2NsZWFuVGl0bGV9XSgke3VybH0pYDtcblx0fVxufVxuXG5pbnRlcmZhY2UgQm9va0luZm8ge1xuXHR0aXRsZTogc3RyaW5nO1xuXHRhdXRob3I6IHN0cmluZztcblx0Z2VucmU6IHN0cmluZztcblx0c3VtbWFyeTogc3RyaW5nO1xuXHRhbWF6b25Vcmw6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIEJsb2dJbmZvIHtcblx0dGl0bGU6IHN0cmluZztcblx0c3VtbWFyeTogc3RyaW5nO1xuXHRibG9nVXJsOiBzdHJpbmc7XG59XG5cbmNsYXNzIEJvb2tVcmxNb2RhbCBleHRlbmRzIE1vZGFsIHtcblx0cGx1Z2luOiBCb29rQ2FyZENyZWF0b3I7XG5cdHVybDogc3RyaW5nID0gJyc7XG5cdGxvYWRpbmdDb250YWluZXI6IEhUTUxFbGVtZW50O1xuXHRidXR0b25Db250YWluZXI6IEhUTUxFbGVtZW50O1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IEJvb2tDYXJkQ3JlYXRvcikge1xuXHRcdHN1cGVyKGFwcCk7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRvbk9wZW4oKSB7XG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cdFx0Y29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0VudGVyIEFtYXpvbiBCb29rIFVSTCcgfSk7XG5cblx0XHQvLyBVUkzlhaXlipvjg5XjgqPjg7zjg6vjg4lcblx0XHRjb25zdCB1cmxJbnB1dENvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoKTtcblx0XHRjb25zdCB1cmxJbnB1dCA9IHVybElucHV0Q29udGFpbmVyLmNyZWF0ZUVsKCdpbnB1dCcsIHtcblx0XHRcdGF0dHI6IHtcblx0XHRcdFx0dHlwZTogJ3RleHQnLFxuXHRcdFx0XHRwbGFjZWhvbGRlcjogJ2h0dHBzOi8vd3d3LmFtYXpvbi5jb20vLi4uJ1xuXHRcdFx0fSxcblx0XHRcdGNsczogJ2Jvb2stdXJsLWlucHV0J1xuXHRcdH0pO1xuXHRcdHVybElucHV0LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuXHRcdHVybElucHV0LnN0eWxlLm1hcmdpbkJvdHRvbSA9ICcxZW0nO1xuXHRcdHVybElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGUpID0+IHtcblx0XHRcdHRoaXMudXJsID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuXHRcdH0pO1xuXG5cdFx0Ly8g44Ot44O844OH44Kj44Oz44Kw44Kk44Oz44K444Kx44O844K/77yI5pyA5Yid44Gv6Z2e6KGo56S677yJXG5cdFx0dGhpcy5sb2FkaW5nQ29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogJ2xvYWRpbmctY29udGFpbmVyJyB9KTtcblx0XHR0aGlzLmxvYWRpbmdDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0XHRjb25zdCBzcGlubmVyID0gdGhpcy5sb2FkaW5nQ29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2xvYWRpbmctc3Bpbm5lcicgfSk7XG5cdFx0dGhpcy5sb2FkaW5nQ29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2xvYWRpbmctdGV4dCcsIHRleHQ6ICdGZXRjaGluZyBib29rIGluZm9ybWF0aW9uLi4uJyB9KTtcblxuXHRcdC8vIOODnOOCv+ODs+OCs+ODs+ODhuODilxuXHRcdHRoaXMuYnV0dG9uQ29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdigpO1xuXHRcdHRoaXMuYnV0dG9uQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG5cdFx0dGhpcy5idXR0b25Db250YWluZXIuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAnZmxleC1lbmQnO1xuXHRcdHRoaXMuYnV0dG9uQ29udGFpbmVyLnN0eWxlLmdhcCA9ICcwLjVlbSc7XG5cblx0XHQvLyDjgq3jg6Pjg7Pjgrvjg6vjg5zjgr/jg7Ncblx0XHRjb25zdCBjYW5jZWxCdXR0b24gPSB0aGlzLmJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnQ2FuY2VsJyB9KTtcblx0XHRjYW5jZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmNsb3NlKCkpO1xuXG5cdFx0Ly8g5L2c5oiQ44Oc44K/44OzXG5cdFx0Y29uc3QgY3JlYXRlQnV0dG9uID0gdGhpcy5idXR0b25Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0NyZWF0ZScsIGNsczogJ21vZC1jdGEnIH0pO1xuXHRcdGNyZWF0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcblx0XHRcdGlmICghdGhpcy51cmwpIHtcblx0XHRcdFx0bmV3IE5vdGljZSgnUGxlYXNlIGVudGVyIGEgdmFsaWQgQW1hem9uIFVSTCcpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdC8vIOODreODvOODh+OCo+ODs+OCsOOCpOODs+OCuOOCseODvOOCv+OCkuihqOekuuOBl+OAgeODnOOCv+ODs+OCkumdnuihqOekulxuXHRcdFx0XHR0aGlzLmxvYWRpbmdDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdmbGV4Jztcblx0XHRcdFx0dGhpcy5idXR0b25Db250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0XHRcdFx0XG5cdFx0XHRcdC8vIE5vdGljZeihqOekuuOCguS9teeUqFxuXHRcdFx0XHRuZXcgTm90aWNlKCdGZXRjaGluZyBib29rIGluZm9ybWF0aW9uLi4uJyk7XG5cdFx0XHRcdFxuXHRcdFx0XHRjb25zdCBib29rSW5mbyA9IGF3YWl0IHRoaXMucGx1Z2luLmZldGNoQm9va0luZm8odGhpcy51cmwpO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8g55Sf5oiQ5Lit44Gu44Oh44OD44K744O844K444Gr5pu05pawXG5cdFx0XHRcdGNvbnN0IGxvYWRpbmdUZXh0ID0gdGhpcy5sb2FkaW5nQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5sb2FkaW5nLXRleHQnKSBhcyBIVE1MRWxlbWVudDtcblx0XHRcdFx0aWYgKGxvYWRpbmdUZXh0KSB7XG5cdFx0XHRcdFx0bG9hZGluZ1RleHQuaW5uZXJUZXh0ID0gJ0NyZWF0aW5nIGJvb2sgY2FyZC4uLic7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLmNyZWF0ZU5vdGVGcm9tVGVtcGxhdGUoYm9va0luZm8pO1xuXHRcdFx0XHR0aGlzLmNsb3NlKCk7XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHQvLyDjgqjjg6njg7zmmYLjga/jg63jg7zjg4fjgqPjg7PjgrDjgpLpnZ7ooajnpLrjgavjgZfjgabjg5zjgr/jg7PjgpLlho3ooajnpLpcblx0XHRcdFx0dGhpcy5sb2FkaW5nQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdFx0XHRcdHRoaXMuYnV0dG9uQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG5cdFx0XHRcdG5ldyBOb3RpY2UoYEVycm9yOiAke2Vycm9yfWApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8g5YWl5Yqb44OV44Kj44O844Or44OJ44Gr44OV44Kp44O844Kr44K5XG5cdFx0dXJsSW5wdXQuZm9jdXMoKTtcblx0fVxuXG5cdG9uQ2xvc2UoKSB7XG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XG5cdH1cbn1cblxuY2xhc3MgQm9va0NhcmRDcmVhdG9yU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuXHRwbHVnaW46IEJvb2tDYXJkQ3JlYXRvcjtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBCb29rQ2FyZENyZWF0b3IpIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcblx0XHRcblx0XHQvLyDjg5fjg6njgrDjgqTjg7Plm7rmnInjga7jgq/jg6njgrnjgpLov73liqBcblx0XHRjb250YWluZXJFbC5hZGRDbGFzcygnYm9vay1jYXJkLWNyZWF0b3InKTtcblxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0Jvb2sgQ2FyZCBDcmVhdG9yIFNldHRpbmdzJyB9KTtcblxuXHRcdC8vIOOCu+OCr+OCt+ODp+ODs+OCkuaYjueiuuOBq+WIhuOBkeOBpuihqOekulxuXHRcdHRoaXMucmVuZGVyQW1hem9uQm9va1NlY3Rpb24oY29udGFpbmVyRWwpO1xuXHRcdHRoaXMucmVuZGVyVGVjaEJsb2dTZWN0aW9uKGNvbnRhaW5lckVsKTtcblx0XHR0aGlzLnJlbmRlckFwaVNlY3Rpb24oY29udGFpbmVyRWwpO1xuXHRcdHRoaXMucmVuZGVyVGVtcGxhdGVWYXJpYWJsZXMoY29udGFpbmVyRWwpO1xuXHR9XG5cblx0Ly8gQW1hem9uIEJvb2sgQ2FyZHPjga7oqK3lrprjgrvjgq/jgrfjg6fjg7Ncblx0cHJpdmF0ZSByZW5kZXJBbWF6b25Cb29rU2VjdGlvbihjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcblx0XHRjb25zdCBhbWF6b25TZWN0aW9uID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KCdzZXR0aW5ncy1zZWN0aW9uJyk7XG5cdFx0YW1hem9uU2VjdGlvbi5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdBbWF6b24gQm9vayBDYXJkcyBTZXR0aW5ncycgfSk7XG5cblx0XHQvLyDmm7jnsY3nlKjjg4bjg7Pjg5fjg6zjg7zjg4jjg5XjgqHjgqTjg6vjga7oqK3lrppcblx0XHRuZXcgU2V0dGluZyhhbWF6b25TZWN0aW9uKVxuXHRcdFx0LnNldE5hbWUoJ0Jvb2sgdGVtcGxhdGUgZmlsZScpXG5cdFx0XHQuc2V0RGVzYygnU2VsZWN0IHRoZSB0ZW1wbGF0ZSBmaWxlIGZvciBBbWF6b24gYm9vayBjYXJkcycpXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdFeGFtcGxlOiB0ZW1wbGF0ZXMvYm9vay10ZW1wbGF0ZS5tZCcpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5ib29rVGVtcGxhdGVQYXRoKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuYm9va1RlbXBsYXRlUGF0aCA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KVxuXHRcdFx0KVxuXHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXG5cdFx0XHRcdC5zZXRCdXR0b25UZXh0KCdCcm93c2UnKVxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0Ly8g5pei5a2Y44Gu44OV44Kh44Kk44Or44KS6YG45oqe44GZ44KL44Gf44KB44Gu5paw44GX44GE44Oi44O844OA44Or44KS5L2c5oiQXG5cdFx0XHRcdFx0bmV3IEZpbGVTZWxlY3Rvck1vZGFsKHRoaXMuYXBwLCAoZmlsZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuYm9va1RlbXBsYXRlUGF0aCA9IGZpbGUucGF0aDtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7IC8vIOioreWumueUu+mdouOCkuabtOaWsFxuXHRcdFx0XHRcdH0pLm9wZW4oKTtcblx0XHRcdFx0fSlcblx0XHRcdCk7XG5cblx0XHQvLyDmm7jnsY3nlKjlh7rlipvjg5Xjgqnjg6vjg4Djga7oqK3lrppcblx0XHRuZXcgU2V0dGluZyhhbWF6b25TZWN0aW9uKVxuXHRcdFx0LnNldE5hbWUoJ0Jvb2sgb3V0cHV0IGZvbGRlcicpXG5cdFx0XHQuc2V0RGVzYygnU2VsZWN0IHRoZSBmb2xkZXIgd2hlcmUgQW1hem9uIGJvb2sgY2FyZHMgd2lsbCBiZSBjcmVhdGVkJylcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0V4YW1wbGU6IEJvb2tzJylcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmJvb2tPdXRwdXRGb2xkZXIpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5ib29rT3V0cHV0Rm9sZGVyID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pXG5cdFx0XHQpXG5cdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cblx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ0Jyb3dzZScpXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHQvLyDjg5Xjgqnjg6vjg4DjgpLpgbjmip7jgZnjgovjgZ/jgoHjga7mlrDjgZfjgYTjg6Ljg7zjg4Djg6vjgpLkvZzmiJBcblx0XHRcdFx0XHRuZXcgRm9sZGVyU2VsZWN0b3JNb2RhbCh0aGlzLmFwcCwgKGZvbGRlcikgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuYm9va091dHB1dEZvbGRlciA9IGZvbGRlci5wYXRoO1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTsgLy8g6Kit5a6a55S76Z2i44KS5pu05pawXG5cdFx0XHRcdFx0fSkub3BlbigpO1xuXHRcdFx0XHR9KVxuXHRcdFx0KTtcblx0fVxuXG5cdC8vIFRlY2ggQmxvZyBDYXJkc+OBruioreWumuOCu+OCr+OCt+ODp+ODs1xuXHRwcml2YXRlIHJlbmRlclRlY2hCbG9nU2VjdGlvbihjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcblx0XHRjb25zdCBibG9nU2VjdGlvbiA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdignc2V0dGluZ3Mtc2VjdGlvbicpO1xuXHRcdGJsb2dTZWN0aW9uLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ1RlY2ggQmxvZyBDYXJkcyBTZXR0aW5ncycgfSk7XG5cblx0XHQvLyDjg5bjg63jgrDnlKjjg4bjg7Pjg5fjg6zjg7zjg4jjg5XjgqHjgqTjg6vjga7oqK3lrppcblx0XHRuZXcgU2V0dGluZyhibG9nU2VjdGlvbilcblx0XHRcdC5zZXROYW1lKCdCbG9nIHRlbXBsYXRlIGZpbGUnKVxuXHRcdFx0LnNldERlc2MoJ1NlbGVjdCB0aGUgdGVtcGxhdGUgZmlsZSBmb3IgdGVjaCBibG9nIGNhcmRzJylcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0V4YW1wbGU6IHRlbXBsYXRlcy9ibG9nLXRlbXBsYXRlLm1kJylcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmJsb2dUZW1wbGF0ZVBhdGgpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5ibG9nVGVtcGxhdGVQYXRoID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pXG5cdFx0XHQpXG5cdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cblx0XHRcdFx0LnNldEJ1dHRvblRleHQoJ0Jyb3dzZScpXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHQvLyDml6LlrZjjga7jg5XjgqHjgqTjg6vjgpLpgbjmip7jgZnjgovjgZ/jgoHjga7mlrDjgZfjgYTjg6Ljg7zjg4Djg6vjgpLkvZzmiJBcblx0XHRcdFx0XHRuZXcgRmlsZVNlbGVjdG9yTW9kYWwodGhpcy5hcHAsIChmaWxlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5ibG9nVGVtcGxhdGVQYXRoID0gZmlsZS5wYXRoO1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTsgLy8g6Kit5a6a55S76Z2i44KS5pu05pawXG5cdFx0XHRcdFx0fSkub3BlbigpO1xuXHRcdFx0XHR9KVxuXHRcdFx0KTtcblxuXHRcdC8vIOODluODreOCsOeUqOWHuuWKm+ODleOCqeODq+ODgOOBruioreWumlxuXHRcdG5ldyBTZXR0aW5nKGJsb2dTZWN0aW9uKVxuXHRcdFx0LnNldE5hbWUoJ0Jsb2cgb3V0cHV0IGZvbGRlcicpXG5cdFx0XHQuc2V0RGVzYygnU2VsZWN0IHRoZSBmb2xkZXIgd2hlcmUgdGVjaCBibG9nIGNhcmRzIHdpbGwgYmUgY3JlYXRlZCcpXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdFeGFtcGxlOiBUZWNoQmxvZ3MnKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYmxvZ091dHB1dEZvbGRlcilcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmJsb2dPdXRwdXRGb2xkZXIgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSlcblx0XHRcdClcblx0XHRcdC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxuXHRcdFx0XHQuc2V0QnV0dG9uVGV4dCgnQnJvd3NlJylcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdC8vIOODleOCqeODq+ODgOOCkumBuOaKnuOBmeOCi+OBn+OCgeOBruaWsOOBl+OBhOODouODvOODgOODq+OCkuS9nOaIkFxuXHRcdFx0XHRcdG5ldyBGb2xkZXJTZWxlY3Rvck1vZGFsKHRoaXMuYXBwLCAoZm9sZGVyKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5ibG9nT3V0cHV0Rm9sZGVyID0gZm9sZGVyLnBhdGg7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpOyAvLyDoqK3lrprnlLvpnaLjgpLmm7TmlrBcblx0XHRcdFx0XHR9KS5vcGVuKCk7XG5cdFx0XHRcdH0pXG5cdFx0XHQpO1xuXHR9XG5cblx0Ly8gQVBJ6Kit5a6a44K744Kv44K344On44OzXG5cdHByaXZhdGUgcmVuZGVyQXBpU2VjdGlvbihjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcblx0XHRjb25zdCBhcGlTZWN0aW9uID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KCdzZXR0aW5ncy1zZWN0aW9uJyk7XG5cdFx0YXBpU2VjdGlvbi5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdBUEkgU2V0dGluZ3MgZm9yIEJsb2cgU3VtbWFyaXphdGlvbicgfSk7XG5cblx0XHQvLyBBbnRocm9waWMgQVBJIEtleeOBruioreWumlxuXHRcdG5ldyBTZXR0aW5nKGFwaVNlY3Rpb24pXG5cdFx0XHQuc2V0TmFtZSgnQW50aHJvcGljIEFQSSBLZXknKVxuXHRcdFx0LnNldERlc2MoJ0VudGVyIHlvdXIgQW50aHJvcGljIEFQSSBrZXkgZm9yIHRlY2ggYmxvZyBzdW1tYXJ5IGdlbmVyYXRpb24nKVxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignc2stYW50LS4uLicpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hbnRocm9waWNBcGlLZXkpXG5cdFx0XHRcdC5zZXREaXNhYmxlZChmYWxzZSlcblx0XHRcdFx0LmlucHV0RWwudHlwZSA9ICdwYXNzd29yZCdcblx0XHRcdClcblx0XHRcdC5hZGRFeHRyYUJ1dHRvbihidG4gPT4gYnRuXG5cdFx0XHRcdC5zZXRJY29uKCdyZXNldCcpXG5cdFx0XHRcdC5zZXRUb29sdGlwKCdTYXZlIEFQSSBLZXknKVxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgaW5wdXRFbCA9IGFwaVNlY3Rpb24ucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1cInBhc3N3b3JkXCJdJykgYXMgSFRNTElucHV0RWxlbWVudDtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5hbnRocm9waWNBcGlLZXkgPSBpbnB1dEVsLnZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdG5ldyBOb3RpY2UoJ0FQSSBLZXkgc2F2ZWQnKTtcblx0XHRcdFx0fSlcblx0XHRcdCk7XG5cdFx0XHRcblx0XHQvLyBMTE3jg6Ljg4fjg6vjga7pgbjmip5cblx0XHRuZXcgU2V0dGluZyhhcGlTZWN0aW9uKVxuXHRcdFx0LnNldE5hbWUoJ0NsYXVkZSBNb2RlbCcpXG5cdFx0XHQuc2V0RGVzYygnU2VsZWN0IHdoaWNoIENsYXVkZSBtb2RlbCB0byB1c2UgZm9yIGJsb2cgc3VtbWFyaXphdGlvbicpXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4gZHJvcGRvd25cblx0XHRcdFx0LmFkZE9wdGlvbignY2xhdWRlLTMtaGFpa3UtMjAyNDAzMDcnLCAnQ2xhdWRlIDMgSGFpa3UgKEZhc3QpJylcblx0XHRcdFx0LmFkZE9wdGlvbignY2xhdWRlLTMtc29ubmV0LTIwMjQwMjI5JywgJ0NsYXVkZSAzIFNvbm5ldCAoQmFsYW5jZWQpJylcblx0XHRcdFx0LmFkZE9wdGlvbignY2xhdWRlLTMtb3B1cy0yMDI0MDIyOScsICdDbGF1ZGUgMyBPcHVzIChQb3dlcmZ1bCknKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtTW9kZWwpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1Nb2RlbCA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KVxuXHRcdFx0KTtcblx0fVxuXG5cdC8vIOODhuODs+ODl+ODrOODvOODiOWkieaVsOOBruiqrOaYjuOCu+OCr+OCt+ODp+ODs1xuXHRwcml2YXRlIHJlbmRlclRlbXBsYXRlVmFyaWFibGVzKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuXHRcdGNvbnN0IHZhcmlhYmxlc1NlY3Rpb24gPSBjb250YWluZXJFbC5jcmVhdGVEaXYoJ3NldHRpbmdzLXNlY3Rpb24nKTtcblx0XHR2YXJpYWJsZXNTZWN0aW9uLmNyZWF0ZUVsKCdoMycsIHsgdGV4dDogJ1RlbXBsYXRlIFZhcmlhYmxlcycgfSk7XG5cdFx0XG5cdFx0Y29uc3QgdGVtcGxhdGVJbmZvID0gdmFyaWFibGVzU2VjdGlvbi5jcmVhdGVFbCgnZGl2Jyk7XG5cdFx0dGVtcGxhdGVJbmZvLmlubmVySFRNTCA9IGBcblx0XHRcdDxwPllvdSBjYW4gdXNlIHRoZSBmb2xsb3dpbmcgdmFyaWFibGVzIGluIHlvdXIgdGVtcGxhdGVzOjwvcD5cblx0XHRcdDxoND5Gb3IgQW1hem9uIEJvb2sgdGVtcGxhdGVzOjwvaDQ+XG5cdFx0XHQ8dWw+XG5cdFx0XHRcdDxsaT48Y29kZT57e2Jvb2stY3JlYXRvcjp0aXRsZX19PC9jb2RlPiAtIEJvb2sgdGl0bGU8L2xpPlxuXHRcdFx0XHQ8bGk+PGNvZGU+e3tib29rLWNyZWF0b3I6YXV0aG9yfX08L2NvZGU+IC0gQm9vayBhdXRob3I8L2xpPlxuXHRcdFx0XHQ8bGk+PGNvZGU+e3tib29rLWNyZWF0b3I6Z2VucmV9fTwvY29kZT4gLSBCb29rIGdlbnJlPC9saT5cblx0XHRcdFx0PGxpPjxjb2RlPnt7Ym9vay1jcmVhdG9yOnN1bW1hcnl9fTwvY29kZT4gLSBCb29rIHN1bW1hcnk8L2xpPlxuXHRcdFx0XHQ8bGk+PGNvZGU+e3tib29rLWNyZWF0b3I6YW1hem9uLWxpbmt9fTwvY29kZT4gLSBNYXJrZG93biBsaW5rIHRvIEFtYXpvbiBwYWdlPC9saT5cblx0XHRcdDwvdWw+XG5cdFx0XHQ8aDQ+Rm9yIFRlY2ggQmxvZyB0ZW1wbGF0ZXM6PC9oND5cblx0XHRcdDx1bD5cblx0XHRcdFx0PGxpPjxjb2RlPnt7YmxvZy1jcmVhdG9yOnRpdGxlfX08L2NvZGU+IC0gQmxvZyB0aXRsZTwvbGk+XG5cdFx0XHRcdDxsaT48Y29kZT57e2Jsb2ctY3JlYXRvcjpzdW1tYXJ5fX08L2NvZGU+IC0gQmxvZyBzdW1tYXJ5PC9saT5cblx0XHRcdFx0PGxpPjxjb2RlPnt7YmxvZy1jcmVhdG9yOmJsb2ctbGlua319PC9jb2RlPiAtIE1hcmtkb3duIGxpbmsgdG8gYmxvZyBwYWdlPC9saT5cblx0XHRcdDwvdWw+XG5cdFx0YDtcblx0fVxufVxuXG4vLyDjg5XjgqHjgqTjg6vpgbjmip7nlKjjga7jg6Ljg7zjg4Djg6tcbmNsYXNzIEZpbGVTZWxlY3Rvck1vZGFsIGV4dGVuZHMgTW9kYWwge1xuXHRvblNlbGVjdDogKGZpbGU6IFRGaWxlKSA9PiB2b2lkO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBvblNlbGVjdDogKGZpbGU6IFRGaWxlKSA9PiB2b2lkKSB7XG5cdFx0c3VwZXIoYXBwKTtcblx0XHR0aGlzLm9uU2VsZWN0ID0gb25TZWxlY3Q7XG5cdH1cblxuXHRvbk9wZW4oKSB7XG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cdFx0Y29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ1NlbGVjdCBUZW1wbGF0ZSBGaWxlJyB9KTtcblxuXHRcdGNvbnN0IGZpbGVMaXN0ID0gY29udGVudEVsLmNyZWF0ZURpdigpO1xuXHRcdGZpbGVMaXN0LnN0eWxlLm1heEhlaWdodCA9ICc0MDBweCc7XG5cdFx0ZmlsZUxpc3Quc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XG5cblx0XHQvLyDjg57jg7zjgq/jg4Djgqbjg7Pjg5XjgqHjgqTjg6vjga7kuIDopqfjgpLooajnpLpcblx0XHR0aGlzLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCkuZm9yRWFjaChmaWxlID0+IHtcblx0XHRcdGNvbnN0IGZpbGVJdGVtID0gZmlsZUxpc3QuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnZmlsZS1pdGVtJyB9KTtcblx0XHRcdGZpbGVJdGVtLnN0eWxlLnBhZGRpbmcgPSAnNXB4Jztcblx0XHRcdGZpbGVJdGVtLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcblx0XHRcdGZpbGVJdGVtLnN0eWxlLmJvcmRlckJvdHRvbSA9ICcxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpJztcblx0XHRcdGZpbGVJdGVtLmlubmVySFRNTCA9IGA8c3Bhbj4ke2ZpbGUucGF0aH08L3NwYW4+YDtcblx0XHRcdFxuXHRcdFx0ZmlsZUl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRcdHRoaXMub25TZWxlY3QoZmlsZSk7XG5cdFx0XHRcdHRoaXMuY2xvc2UoKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRmaWxlSXRlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgKCkgPT4ge1xuXHRcdFx0XHRmaWxlSXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAndmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3ZlciknO1xuXHRcdFx0fSk7XG5cblx0XHRcdGZpbGVJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XG5cdFx0XHRcdGZpbGVJdGVtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcnO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRvbkNsb3NlKCkge1xuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xuXHR9XG59XG5cbi8vIOODleOCqeODq+ODgOmBuOaKnueUqOOBruODouODvOODgOODq1xuY2xhc3MgVGVjaEJsb2dVcmxNb2RhbCBleHRlbmRzIE1vZGFsIHtcblx0cGx1Z2luOiBCb29rQ2FyZENyZWF0b3I7XG5cdHVybDogc3RyaW5nID0gJyc7XG5cdGxvYWRpbmdDb250YWluZXI6IEhUTUxFbGVtZW50O1xuXHRidXR0b25Db250YWluZXI6IEhUTUxFbGVtZW50O1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IEJvb2tDYXJkQ3JlYXRvcikge1xuXHRcdHN1cGVyKGFwcCk7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRvbk9wZW4oKSB7XG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cdFx0Y29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0VudGVyIFRlY2ggQmxvZyBVUkwnIH0pO1xuXG5cdFx0Ly8gVVJM5YWl5Yqb44OV44Kj44O844Or44OJXG5cdFx0Y29uc3QgdXJsSW5wdXRDb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KCk7XG5cdFx0Y29uc3QgdXJsSW5wdXQgPSB1cmxJbnB1dENvbnRhaW5lci5jcmVhdGVFbCgnaW5wdXQnLCB7XG5cdFx0XHRhdHRyOiB7XG5cdFx0XHRcdHR5cGU6ICd0ZXh0Jyxcblx0XHRcdFx0cGxhY2Vob2xkZXI6ICdodHRwczovL2Jsb2cuZXhhbXBsZS5jb20vLi4uJ1xuXHRcdFx0fSxcblx0XHRcdGNsczogJ2Jsb2ctdXJsLWlucHV0J1xuXHRcdH0pO1xuXHRcdHVybElucHV0LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuXHRcdHVybElucHV0LnN0eWxlLm1hcmdpbkJvdHRvbSA9ICcxZW0nO1xuXHRcdHVybElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGUpID0+IHtcblx0XHRcdHRoaXMudXJsID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuXHRcdH0pO1xuXG5cdFx0Ly8gQVBJ44Kt44O844Gu6K2m5ZGK77yI6Kit5a6a44GV44KM44Gm44GE44Gq44GE5aC05ZCI77yJXG5cdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5hbnRocm9waWNBcGlLZXkpIHtcblx0XHRcdGNvbnN0IHdhcm5pbmdEaXYgPSBjb250ZW50RWwuY3JlYXRlRGl2KCk7XG5cdFx0XHR3YXJuaW5nRGl2LnN0eWxlLmNvbG9yID0gJ3ZhcigtLXRleHQtZXJyb3IpJztcblx0XHRcdHdhcm5pbmdEaXYuc3R5bGUubWFyZ2luQm90dG9tID0gJzFlbSc7XG5cdFx0XHR3YXJuaW5nRGl2LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiAnV2FybmluZzogQW50aHJvcGljIEFQSSBLZXkgaXMgbm90IHNldC4gTExNIHN1bW1hcnkgd2lsbCBub3QgYmUgYXZhaWxhYmxlLicgfSk7XG5cdFx0fVxuXHRcdFxuXHRcdC8vIOmBuOaKnuOBleOCjOOBpuOBhOOCi+ODouODh+ODq+OBruaDheWgseOCkuihqOekulxuXHRcdGNvbnN0IG1vZGVsSW5mbyA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoKTtcblx0XHRtb2RlbEluZm8uc3R5bGUubWFyZ2luQm90dG9tID0gJzFlbSc7XG5cdFx0bGV0IG1vZGVsTmFtZSA9ICdVbmtub3duJztcblx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtTW9kZWwgPT09ICdjbGF1ZGUtMy1oYWlrdS0yMDI0MDMwNycpIHtcblx0XHRcdG1vZGVsTmFtZSA9ICdDbGF1ZGUgMyBIYWlrdSAoRmFzdCknO1xuXHRcdH0gZWxzZSBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtTW9kZWwgPT09ICdjbGF1ZGUtMy1zb25uZXQtMjAyNDAyMjknKSB7XG5cdFx0XHRtb2RlbE5hbWUgPSAnQ2xhdWRlIDMgU29ubmV0IChCYWxhbmNlZCknO1xuXHRcdH0gZWxzZSBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtTW9kZWwgPT09ICdjbGF1ZGUtMy1vcHVzLTIwMjQwMjI5Jykge1xuXHRcdFx0bW9kZWxOYW1lID0gJ0NsYXVkZSAzIE9wdXMgKFBvd2VyZnVsKSc7XG5cdFx0fVxuXHRcdG1vZGVsSW5mby5jcmVhdGVFbCgncCcsIHsgdGV4dDogYFNlbGVjdGVkIG1vZGVsOiAke21vZGVsTmFtZX1gIH0pO1xuXG5cdFx0Ly8g44Ot44O844OH44Kj44Oz44Kw44Kk44Oz44K444Kx44O844K/77yI5pyA5Yid44Gv6Z2e6KGo56S677yJXG5cdFx0dGhpcy5sb2FkaW5nQ29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogJ2xvYWRpbmctY29udGFpbmVyJyB9KTtcblx0XHR0aGlzLmxvYWRpbmdDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0XHRjb25zdCBzcGlubmVyID0gdGhpcy5sb2FkaW5nQ29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2xvYWRpbmctc3Bpbm5lcicgfSk7XG5cdFx0dGhpcy5sb2FkaW5nQ29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogJ2xvYWRpbmctdGV4dCcsIHRleHQ6ICdGZXRjaGluZyBibG9nIGluZm9ybWF0aW9uLi4uJyB9KTtcblxuXHRcdC8vIOODnOOCv+ODs+OCs+ODs+ODhuODilxuXHRcdHRoaXMuYnV0dG9uQ29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdigpO1xuXHRcdHRoaXMuYnV0dG9uQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG5cdFx0dGhpcy5idXR0b25Db250YWluZXIuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAnZmxleC1lbmQnO1xuXHRcdHRoaXMuYnV0dG9uQ29udGFpbmVyLnN0eWxlLmdhcCA9ICcwLjVlbSc7XG5cblx0XHQvLyDjgq3jg6Pjg7Pjgrvjg6vjg5zjgr/jg7Ncblx0XHRjb25zdCBjYW5jZWxCdXR0b24gPSB0aGlzLmJ1dHRvbkNvbnRhaW5lci5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnQ2FuY2VsJyB9KTtcblx0XHRjYW5jZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmNsb3NlKCkpO1xuXG5cdFx0Ly8g5L2c5oiQ44Oc44K/44OzXG5cdFx0Y29uc3QgY3JlYXRlQnV0dG9uID0gdGhpcy5idXR0b25Db250YWluZXIuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0NyZWF0ZScsIGNsczogJ21vZC1jdGEnIH0pO1xuXHRcdGNyZWF0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcblx0XHRcdGlmICghdGhpcy51cmwpIHtcblx0XHRcdFx0bmV3IE5vdGljZSgnUGxlYXNlIGVudGVyIGEgdmFsaWQgdGVjaCBibG9nIFVSTCcpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdC8vIOODreODvOODh+OCo+ODs+OCsOOCpOODs+OCuOOCseODvOOCv+OCkuihqOekuuOBl+OAgeODnOOCv+ODs+OCkumdnuihqOekulxuXHRcdFx0XHR0aGlzLmxvYWRpbmdDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdmbGV4Jztcblx0XHRcdFx0dGhpcy5idXR0b25Db250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0XHRcdFx0XG5cdFx0XHRcdC8vIE5vdGljZeihqOekuuOCguS9teeUqFxuXHRcdFx0XHRuZXcgTm90aWNlKCdGZXRjaGluZyBibG9nIGluZm9ybWF0aW9uLi4uJyk7XG5cdFx0XHRcdFxuXHRcdFx0XHRjb25zdCBibG9nSW5mbyA9IGF3YWl0IHRoaXMucGx1Z2luLmZldGNoQmxvZ0luZm8odGhpcy51cmwpO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8g55Sf5oiQ5Lit44Gu44Oh44OD44K744O844K444Gr5pu05pawXG5cdFx0XHRcdGNvbnN0IGxvYWRpbmdUZXh0ID0gdGhpcy5sb2FkaW5nQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5sb2FkaW5nLXRleHQnKSBhcyBIVE1MRWxlbWVudDtcblx0XHRcdFx0aWYgKGxvYWRpbmdUZXh0KSB7XG5cdFx0XHRcdFx0bG9hZGluZ1RleHQuaW5uZXJUZXh0ID0gJ0NyZWF0aW5nIGJsb2cgY2FyZC4uLic7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLmNyZWF0ZU5vdGVGcm9tVGVtcGxhdGUoYmxvZ0luZm8pO1xuXHRcdFx0XHR0aGlzLmNsb3NlKCk7XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHQvLyDjgqjjg6njg7zmmYLjga/jg63jg7zjg4fjgqPjg7PjgrDjgpLpnZ7ooajnpLrjgavjgZfjgabjg5zjgr/jg7PjgpLlho3ooajnpLpcblx0XHRcdFx0dGhpcy5sb2FkaW5nQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdFx0XHRcdHRoaXMuYnV0dG9uQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG5cdFx0XHRcdG5ldyBOb3RpY2UoYEVycm9yOiAke2Vycm9yfWApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8g5YWl5Yqb44OV44Kj44O844Or44OJ44Gr44OV44Kp44O844Kr44K5XG5cdFx0dXJsSW5wdXQuZm9jdXMoKTtcblx0fVxuXG5cdG9uQ2xvc2UoKSB7XG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XG5cdH1cbn1cblxuY2xhc3MgRm9sZGVyU2VsZWN0b3JNb2RhbCBleHRlbmRzIE1vZGFsIHtcblx0b25TZWxlY3Q6IChmb2xkZXI6IFRGb2xkZXIpID0+IHZvaWQ7XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIG9uU2VsZWN0OiAoZm9sZGVyOiBURm9sZGVyKSA9PiB2b2lkKSB7XG5cdFx0c3VwZXIoYXBwKTtcblx0XHR0aGlzLm9uU2VsZWN0ID0gb25TZWxlY3Q7XG5cdH1cblxuXHRvbk9wZW4oKSB7XG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cdFx0Y29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ1NlbGVjdCBPdXRwdXQgRm9sZGVyJyB9KTtcblxuXHRcdGNvbnN0IGZvbGRlckxpc3QgPSBjb250ZW50RWwuY3JlYXRlRGl2KCk7XG5cdFx0Zm9sZGVyTGlzdC5zdHlsZS5tYXhIZWlnaHQgPSAnNDAwcHgnO1xuXHRcdGZvbGRlckxpc3Quc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XG5cblx0XHQvLyDjg5Xjgqnjg6vjg4Djga7kuIDopqfjgpLlj5blvpfjgZfjgabooajnpLpcblx0XHRjb25zdCBmb2xkZXJzOiBURm9sZGVyW10gPSBbXTtcblx0XHR0aGlzLmdldEFsbEZvbGRlcnModGhpcy5hcHAudmF1bHQuZ2V0Um9vdCgpLCBmb2xkZXJzKTtcblxuXHRcdGZvbGRlcnMuZm9yRWFjaChmb2xkZXIgPT4ge1xuXHRcdFx0Y29uc3QgZm9sZGVySXRlbSA9IGZvbGRlckxpc3QuY3JlYXRlRWwoJ2RpdicsIHsgY2xzOiAnZm9sZGVyLWl0ZW0nIH0pO1xuXHRcdFx0Zm9sZGVySXRlbS5zdHlsZS5wYWRkaW5nID0gJzVweCc7XG5cdFx0XHRmb2xkZXJJdGVtLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcblx0XHRcdGZvbGRlckl0ZW0uc3R5bGUuYm9yZGVyQm90dG9tID0gJzFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLW1vZGlmaWVyLWJvcmRlciknO1xuXHRcdFx0Zm9sZGVySXRlbS5pbm5lckhUTUwgPSBgPHNwYW4+JHtmb2xkZXIucGF0aCB8fCAnLyd9PC9zcGFuPmA7XG5cdFx0XHRcblx0XHRcdGZvbGRlckl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRcdHRoaXMub25TZWxlY3QoZm9sZGVyKTtcblx0XHRcdFx0dGhpcy5jbG9zZSgpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGZvbGRlckl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsICgpID0+IHtcblx0XHRcdFx0Zm9sZGVySXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAndmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ob3ZlciknO1xuXHRcdFx0fSk7XG5cblx0XHRcdGZvbGRlckl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHtcblx0XHRcdFx0Zm9sZGVySXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnJztcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0Ly8g44OV44Kp44Or44OA44KS5YaN5biw55qE44Gr5Y+W5b6XXG5cdGdldEFsbEZvbGRlcnMoZm9sZGVyOiBURm9sZGVyLCBmb2xkZXJzOiBURm9sZGVyW10pIHtcblx0XHRmb2xkZXJzLnB1c2goZm9sZGVyKTtcblx0XHRcblx0XHRmb3IgKGNvbnN0IGNoaWxkIG9mIGZvbGRlci5jaGlsZHJlbikge1xuXHRcdFx0aWYgKGNoaWxkIGluc3RhbmNlb2YgVEZvbGRlcikge1xuXHRcdFx0XHR0aGlzLmdldEFsbEZvbGRlcnMoY2hpbGQsIGZvbGRlcnMpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdG9uQ2xvc2UoKSB7XG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XG5cdH1cbn0iXSwibmFtZXMiOlsiUGx1Z2luIiwiVEZpbGUiLCJOb3RpY2UiLCJURm9sZGVyIiwiTW9kYWwiLCJQbHVnaW5TZXR0aW5nVGFiIiwiU2V0dGluZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFrR0E7QUFDTyxTQUFTLFNBQVMsQ0FBQyxPQUFPLEVBQUUsVUFBVSxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUU7QUFDN0QsSUFBSSxTQUFTLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxPQUFPLEtBQUssWUFBWSxDQUFDLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLFVBQVUsT0FBTyxFQUFFLEVBQUUsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7QUFDaEgsSUFB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
